var Ot=Object.defineProperty;var Pt=(t,e,n)=>e in t?Ot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ge=(t,e,n)=>(Pt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function D(){}const kt=t=>t;function Je(t,e){for(const n in e)t[n]=e[n];return t}function xt(t){return t()}function ot(){return Object.create(null)}function pe(t){t.forEach(xt)}function et(t){return typeof t=="function"}function ge(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Oe;function Ce(t,e){return t===e?!0:(Oe||(Oe=document.createElement("a")),Oe.href=e,t===Oe.href)}function Ut(t){return Object.keys(t).length===0}function Tt(t,...e){if(t==null){for(const r of e)r(void 0);return D}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ze(t,e,n){t.$$.on_destroy.push(Tt(e,n))}function zt(t,e,n,r){if(t){const l=$t(t,e,n,r);return t[0](l)}}function $t(t,e,n,r){return t[1]&&r?Je(n.ctx.slice(),t[1](r(e))):n.ctx}function Dt(t,e,n,r){if(t[2]&&r){const l=t[2](r(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const i=[],a=Math.max(e.dirty.length,l.length);for(let o=0;o<a;o+=1)i[o]=e.dirty[o]|l[o];return i}return e.dirty|l}return e.dirty}function Nt(t,e,n,r,l,i){if(l){const a=$t(e,n,r,i);t.p(a,l)}}function qt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function se(t,e,n){return t.set(n),e}function Zt(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Ct=typeof window<"u";let Lt=Ct?()=>window.performance.now():()=>Date.now(),tt=Ct?t=>requestAnimationFrame(t):D;const xe=new Set;function Mt(t){xe.forEach(e=>{e.c(t)||(xe.delete(e),e.f())}),xe.size!==0&&tt(Mt)}function jt(t){let e;return xe.size===0&&tt(Mt),{promise:new Promise(n=>{xe.add(e={c:t,f:n})}),abort(){xe.delete(e)}}}function f(t,e){t.appendChild(e)}function St(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Rt(t){const e=h("style");return e.textContent="/* empty */",Ft(St(t),e),e.sheet}function Ft(t,e){return f(t.head||t,e),e.sheet}function C(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode&&t.parentNode.removeChild(t)}function At(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function O(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function F(t){return document.createTextNode(t)}function k(){return F(" ")}function nt(){return F("")}function oe(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function s(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Wt(t){return Array.from(t.childNodes)}function ue(t,e){e=""+e,t.data!==e&&(t.data=e)}function at(t,e){t.value=e??""}function Te(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function ct(t,e,n){t.classList.toggle(e,!!n)}function Vt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const ze=new Map;let De=0;function Gt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Kt(t,e){const n={stylesheet:Rt(e),rules:{}};return ze.set(t,n),n}function ut(t,e,n,r,l,i,a,o=0){const u=16.666/r;let c=`{
`;for(let w=0;w<=1;w+=u){const _=e+(n-e)*i(w);c+=w*100+`%{${a(_,1-_)}}
`}const g=c+`100% {${a(n,1-n)}}
}`,d=`__svelte_${Gt(g)}_${o}`,m=St(t),{stylesheet:v,rules:p}=ze.get(m)||Kt(m,t);p[d]||(p[d]=!0,v.insertRule(`@keyframes ${d} ${g}`,v.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${d} ${r}ms linear ${l}ms 1 both`,De+=1,d}function Yt(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),l=n.length-r.length;l&&(t.style.animation=r.join(", "),De-=l,De||Jt())}function Jt(){tt(()=>{De||(ze.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&x(e)}),ze.clear())})}let He;function Ee(t){He=t}function Qt(){if(!He)throw new Error("Function called outside component initialization");return He}function Xt(t){Qt().$$.on_mount.push(t)}const ke=[],Ne=[];let $e=[];const ft=[],en=Promise.resolve();let Qe=!1;function tn(){Qe||(Qe=!0,en.then(Et))}function fe(t){$e.push(t)}const Ke=new Set;let ye=0;function Et(){if(ye!==0)return;const t=He;do{try{for(;ye<ke.length;){const e=ke[ye];ye++,Ee(e),nn(e.$$)}}catch(e){throw ke.length=0,ye=0,e}for(Ee(null),ke.length=0,ye=0;Ne.length;)Ne.pop()();for(let e=0;e<$e.length;e+=1){const n=$e[e];Ke.has(n)||(Ke.add(n),n())}$e.length=0}while(ke.length);for(;ft.length;)ft.pop()();Qe=!1,Ke.clear(),Ee(t)}function nn(t){if(t.fragment!==null){t.update(),pe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(fe)}}function rn(t){const e=[],n=[];$e.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),$e=e}let Ae;function ln(){return Ae||(Ae=Promise.resolve(),Ae.then(()=>{Ae=null})),Ae}function Ye(t,e,n){t.dispatchEvent(Vt(`${e?"intro":"outro"}${n}`))}const Pe=new Set;let ae;function Re(){ae={r:0,c:[],p:ae}}function Fe(){ae.r||pe(ae.c),ae=ae.p}function q(t,e){t&&t.i&&(Pe.delete(t),t.i(e))}function G(t,e,n,r){if(t&&t.o){if(Pe.has(t))return;Pe.add(t),ae.c.push(()=>{Pe.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const sn={duration:0};function de(t,e,n,r){let i=e(t,n,{direction:"both"}),a=r?0:1,o=null,u=null,c=null,g;function d(){c&&Yt(t,c)}function m(p,b){const w=p.b-a;return b*=Math.abs(w),{a,b:p.b,d:w,duration:b,start:p.start,end:p.start+b,group:p.group}}function v(p){const{delay:b=0,duration:w=300,easing:_=kt,tick:L=D,css:S}=i||sn,M={start:Lt()+b,b:p};p||(M.group=ae,ae.r+=1),"inert"in t&&(p?g!==void 0&&(t.inert=g):(g=t.inert,t.inert=!0)),o||u?u=M:(S&&(d(),c=ut(t,a,p,w,b,_,S)),p&&L(0,1),o=m(M,w),fe(()=>Ye(t,p,"start")),jt(j=>{if(u&&j>u.start&&(o=m(u,w),u=null,Ye(t,o.b,"start"),S&&(d(),c=ut(t,a,o.b,o.duration,0,_,i.css))),o){if(j>=o.end)L(a=o.b,1-a),Ye(t,o.b,"end"),u||(o.b?d():--o.group.r||pe(o.group.c)),o=null;else if(j>=o.start){const H=j-o.start;a=o.a+o.d*_(H/o.duration),L(a,1-a)}}return!!(o||u)}))}return{run(p){et(i)?ln().then(()=>{i=i({direction:p?"in":"out"}),v(p)}):v(p)},end(){d(),o=u=null}}}function qe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Me(t){t&&t.c()}function me(t,e,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),fe(()=>{const i=t.$$.on_mount.map(xt).filter(et);t.$$.on_destroy?t.$$.on_destroy.push(...i):pe(i),t.$$.on_mount=[]}),l.forEach(fe)}function we(t,e){const n=t.$$;n.fragment!==null&&(rn(n.after_update),pe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function on(t,e){t.$$.dirty[0]===-1&&(ke.push(t),tn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function _e(t,e,n,r,l,i,a=null,o=[-1]){const u=He;Ee(t);const c=t.$$={fragment:null,ctx:[],props:i,update:D,not_equal:l,bound:ot(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ot(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};a&&a(c.root);let g=!1;if(c.ctx=n?n(t,e.props||{},(d,m,...v)=>{const p=v.length?v[0]:m;return c.ctx&&l(c.ctx[d],c.ctx[d]=p)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](p),g&&on(t,d)),m}):[],c.update(),g=!0,pe(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const d=Wt(e.target);c.fragment&&c.fragment.l(d),d.forEach(x)}else c.fragment&&c.fragment.c();e.intro&&q(t.$$.fragment),me(t,e.target,e.anchor),Et()}Ee(u)}class ve{constructor(){Ge(this,"$$");Ge(this,"$$set")}$destroy(){we(this,1),this.$destroy=D}$on(e,n){if(!et(n))return D;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!Ut(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const an="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(an);window["cartier-server-url"]="https://reold-cartier.glitch.me";const ce={getRoot:async()=>await(await fetch(`${window["cartier-server-url"]}/`)).json(),getUserInfo:async t=>await(await fetch(`${window["cartier-server-url"]}/user?username=${t}`)).json(),getPlaylistInfo:async t=>await(await fetch(`${window["cartier-server-url"]}/playlist?id=${t}`)).json(),getDownloadPlaylist:async t=>await(await fetch(`${window["cartier-server-url"]}/download?link=${t}`)).json(),getDownloadStatus:async t=>await(await fetch(`${window["cartier-server-url"]}/status?key=${t}`)).json(),getDownloadTrack:async(t,e="",n=!1)=>await(await fetch(`${window["cartier-server-url"]}/track?link=${t}&key=${e}&create=${n}`)).json(),getStreamPlaylist:async t=>{let e=await fetch(`${window["cartier-server-url"]}/stream?key=${t}`);return await e,console.log("HEADERS"),e.headers.forEach((n,r)=>{console.log(r," : ",n)}),[await e.ok,await e.blob(),e.headers.get("x-trackid")]}},be=[];function rt(t,e=D){let n;const r=new Set;function l(o){if(ge(t,o)&&(t=o,n)){const u=!be.length;for(const c of r)c[1](),be.push(c,t);if(u){for(let c=0;c<be.length;c+=2)be[c][0](be[c+1]);be.length=0}}}function i(o){l(o(t))}function a(o,u=D){const c=[o,u];return r.add(c),r.size===1&&(n=e(l,i)||D),o(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:l,update:i,subscribe:a}}function Bt(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function cn(t){const e=t-1;return e*e*e+1}function dt(t,{delay:e=0,duration:n=400,easing:r=Bt,amount:l=5,opacity:i=0}={}){const a=getComputedStyle(t),o=+a.opacity,u=a.filter==="none"?"":a.filter,c=o*(1-i),[g,d]=Zt(l);return{delay:e,duration:n,easing:r,css:(m,v)=>`opacity: ${o-c*v}; filter: ${u} blur(${v*g}${d});`}}function Le(t,{delay:e=0,duration:n=400,easing:r=cn,axis:l="y"}={}){const i=getComputedStyle(t),a=+i.opacity,o=l==="y"?"height":"width",u=parseFloat(i[o]),c=l==="y"?["top","bottom"]:["left","right"],g=c.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),d=parseFloat(i[`padding${g[0]}`]),m=parseFloat(i[`padding${g[1]}`]),v=parseFloat(i[`margin${g[0]}`]),p=parseFloat(i[`margin${g[1]}`]),b=parseFloat(i[`border${g[0]}Width`]),w=parseFloat(i[`border${g[1]}Width`]);return{delay:e,duration:n,easing:r,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*a};${o}: ${_*u}px;padding-${c[0]}: ${_*d}px;padding-${c[1]}: ${_*m}px;margin-${c[0]}: ${_*v}px;margin-${c[1]}: ${_*p}px;border-${c[0]}-width: ${_*b}px;border-${c[1]}-width: ${_*w}px;`}}function pt(t){let e,n,r,l;const i=t[2].default,a=zt(i,t,t[1],null);return{c(){e=h("div"),n=h("div"),a&&a.c(),s(n,"class","bg-gray-950 p-2 rounded-md ring-1 ring-zinc-500 max-w-[90vw]"),s(e,"class","absolute top-0 left-0 w-full h-full backdrop-blur-md flex flex-col items-center justify-center text-center text-xs")},m(o,u){C(o,e,u),f(e,n),a&&a.m(n,null),l=!0},p(o,u){a&&a.p&&(!l||u&2)&&Nt(a,i,o,o[1],l?Dt(i,o[1],u,null):qt(o[1]),null)},i(o){l||(q(a,o),o&&fe(()=>{l&&(r||(r=de(e,dt,{duration:500},!0)),r.run(1))}),l=!0)},o(o){G(a,o),o&&(r||(r=de(e,dt,{duration:500},!1)),r.run(0)),l=!1},d(o){o&&x(e),a&&a.d(o),o&&r&&r.end()}}}function un(t){let e,n,r=!t[0]&&pt(t);return{c(){r&&r.c(),e=nt()},m(l,i){r&&r.m(l,i),C(l,e,i),n=!0},p(l,[i]){l[0]?r&&(Re(),G(r,1,1,()=>{r=null}),Fe()):r?(r.p(l,i),i&1&&q(r,1)):(r=pt(l),r.c(),q(r,1),r.m(e.parentNode,e))},i(l){n||(q(r),n=!0)},o(l){G(r),n=!1},d(l){l&&x(e),r&&r.d(l)}}}function fn(t,e,n){let{$$slots:r={},$$scope:l}=e,{hidden:i=!1}=e;return t.$$set=a=>{"hidden"in a&&n(0,i=a.hidden),"$$scope"in a&&n(1,l=a.$$scope)},[i,l,r]}class dn extends ve{constructor(e){super(),_e(this,e,fn,un,ge,{hidden:0})}}function gt(t){let e,n;return{c(){e=O("svg"),n=O("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","1.5"),s(e,"stroke","currentColor"),s(e,"class","aspect-square w-[1.2em] animate-spin inline")},m(r,l){C(r,e,l),f(e,n)},d(r){r&&x(e)}}}function pn(t){let e,n,r,l,i,a,o=t[0].step+"",u,c=t[0].is&&gt();return{c(){e=h("h1"),e.textContent="Waking up servers!",n=k(),r=h("p"),r.textContent=`Our servers take a little break every 5 minutes when things quiet down.
    We're in the process of waking them up for you. It's automatic, so no need
    to stress!`,l=k(),i=h("p"),c&&c.c(),a=k(),u=F(o),s(e,"class","text-xl"),s(r,"class","text-xs text-gray-500 inline"),s(i,"class","inline"),ct(i,"text-green-500",!t[0].is)},m(g,d){C(g,e,d),C(g,n,d),C(g,r,d),C(g,l,d),C(g,i,d),c&&c.m(i,null),f(i,a),f(i,u)},p(g,d){g[0].is?c||(c=gt(),c.c(),c.m(i,a)):c&&(c.d(1),c=null),d&1&&o!==(o=g[0].step+"")&&ue(u,o),d&1&&ct(i,"text-green-500",!g[0].is)},d(g){g&&(x(e),x(n),x(r),x(l),x(i)),c&&c.d()}}}function gn(t){let e,n;return e=new dn({props:{hidden:!t[0].is,$$slots:{default:[pn]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment)},m(r,l){me(e,r,l),n=!0},p(r,[l]){const i={};l&1&&(i.hidden=!r[0].is),l&9&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){n||(q(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function hn(t,e,n){let r;const l=rt({step:"trying to make contact",is:!0});Ze(t,l,a=>n(0,r=a));let{handleWakeup:i}=e;return Xt(()=>{se(l,r.step="waking up servers",r),ce.getRoot().then(a=>{se(l,r.is=!1,r),se(l,r.step="servers are running!",r),i()}).catch(a=>{re(`unable to reach servers. err: ${a}`),se(l,r.step="servers unreachable (reload?)",r)})}),t.$$set=a=>{"handleWakeup"in a&&n(2,i=a.handleWakeup)},[r,l,i]}class mn extends ve{constructor(e){super(),_e(this,e,hn,gn,ge,{handleWakeup:2})}}function wn(t){let e,n,r,l,i,a,o,u,c,g,d,m,v,p,b,w,_,L,S,M,j,H,W,P,U,ee;return e=new mn({props:{handleWakeup:t[2]}}),{c(){Me(e.$$.fragment),n=k(),r=h("div"),l=h("div"),i=h("p"),i.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 inline"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"></path></svg>
      fill-in to continue`,a=k(),o=h("div"),u=h("div"),c=h("input"),g=k(),d=h("button"),d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 inline rounded-full"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg>',m=k(),v=h("div"),v.innerHTML='<span>copy your</span><svg xmlns="http://www.w3.org/2000/svg" class="w-[1em] inline" viewBox="-33.4974 -55.829 290.3108 334.974"><path d="M177.707 98.987c-35.992-21.375-95.36-23.34-129.719-12.912-5.519 1.674-11.353-1.44-13.024-6.958-1.672-5.521 1.439-11.352 6.96-13.029 39.443-11.972 105.008-9.66 146.443 14.936 4.964 2.947 6.59 9.356 3.649 14.31-2.944 4.963-9.359 6.6-14.31 3.653m-1.178 31.658c-2.525 4.098-7.883 5.383-11.975 2.867-30.005-18.444-75.762-23.788-111.262-13.012-4.603 1.39-9.466-1.204-10.864-5.8a8.717 8.717 0 015.805-10.856c40.553-12.307 90.968-6.347 125.432 14.833 4.092 2.52 5.38 7.88 2.864 11.968m-13.663 30.404a6.954 6.954 0 01-9.569 2.316c-26.22-16.025-59.223-19.644-98.09-10.766a6.955 6.955 0 01-8.331-5.232 6.95 6.95 0 015.233-8.334c42.533-9.722 79.017-5.538 108.448 12.446a6.96 6.96 0 012.31 9.57M111.656 0C49.992 0 0 49.99 0 111.656c0 61.672 49.992 111.66 111.657 111.66 61.668 0 111.659-49.988 111.659-111.66C223.316 49.991 173.326 0 111.657 0" fill="#1DB954"></path></svg><span>Spotify profile link from your account page</span>',p=k(),b=h("div"),w=h("label"),_=h("input"),L=k(),S=h("span"),S.textContent="persist",M=k(),j=h("button"),j.textContent="continue",H=k(),W=h("details"),W.innerHTML=`<summary class="font-bold mb-2">Cartier Manager: Free Spotify Playlist Downloader</summary> <p class="mb-4">Mobile-friendly, free-to-use Spotify playlist downloader. Share your
      Spotify profile link to effortlessly download all your public playlists.</p> <p>Powered by <code>spotify-dl</code> on our servers, Cartier finds and downloads
      songs from YouTube based on Spotify data.</p>`,s(i,"class","text-2xl"),s(c,"type","text"),s(c,"class","w-full"),s(c,"placeholder","type Spotify profile link"),s(c,"autocomplete","url"),s(c,"aria-label","type spotify profile link"),s(d,"class","bg-zinc-500"),s(d,"aria-label","paste from clipboard"),s(u,"class","w-full flex flex-row items-center justify-center space-x-2"),s(v,"class","text-xs svg-icon"),s(o,"class","flex flex-col items-center justify-center"),s(_,"type","checkbox"),s(_,"class","inline"),s(S,"class","align-middle"),s(w,"for","persisting userid"),s(w,"class","text-base flex flex-row space-x-2 bg-gray-950 p-3 rounded-md"),s(j,"class","hover:scale-110"),s(b,"class","flex flex-row items-center justify-center space-x-3"),s(l,"class","flex flex-col items-center text-center justify-center bg-zinc-950/50 ring-1 ring-zinc-500 rounded-md w-11/12 space-y-7 p-3"),s(W,"class","text-sm w-11/12"),s(r,"class","flex flex-col justify-center items-center w-full h-full")},m(A,Z){me(e,A,Z),C(A,n,Z),C(A,r,Z),f(r,l),f(l,i),f(l,a),f(l,o),f(o,u),f(u,c),at(c,t[0]),f(u,g),f(u,d),f(o,m),f(o,v),f(l,p),f(l,b),f(b,w),f(w,_),_.checked=t[1],f(w,L),f(w,S),f(b,M),f(b,j),f(r,H),f(r,W),P=!0,U||(ee=[oe(c,"input",t[6]),oe(d,"click",t[3]),oe(_,"change",t[7]),oe(j,"click",t[4])],U=!0)},p(A,[Z]){Z&1&&c.value!==A[0]&&at(c,A[0]),Z&2&&(_.checked=A[1])},i(A){P||(q(e.$$.fragment,A),P=!0)},o(A){G(e.$$.fragment,A),P=!1},d(A){A&&(x(n),x(r)),we(e,A),U=!1,pe(ee)}}}function _n(t,e,n){const r=()=>{const d=localStorage.getItem("cartier-userid");console.info("performing auto login for",d),d&&re("performing auto-login",!0,5,m=>{l(d,()=>{m()})})};let{handleUsername:l}=e,i="",a=!0;const o=async()=>{navigator.clipboard.readText&&n(0,i=await navigator.clipboard.readText())},u=()=>{let d;try{d=new URL(i)}catch{n(0,i="");return}const m=d.pathname.split("/")[2];a&&(localStorage.setItem("cartier-userid",m),re("login information saved!")),l(m)};function c(){i=this.value,n(0,i)}function g(){a=this.checked,n(1,a)}return t.$$set=d=>{"handleUsername"in d&&n(5,l=d.handleUsername)},[i,a,r,o,u,l,c,g]}class vn extends ve{constructor(e){super(),_e(this,e,_n,wn,ge,{handleUsername:5})}}function ht(t){return Object.prototype.toString.call(t)==="[object Date]"}function Xe(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((l,i)=>Xe(t[i],l));return l=>r.map(i=>i(l))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(ht(t)&&ht(e)){t=t.getTime(),e=e.getTime();const i=e-t;return a=>new Date(t+a*i)}const r=Object.keys(e),l={};return r.forEach(i=>{l[i]=Xe(t[i],e[i])}),i=>{const a={};return r.forEach(o=>{a[o]=l[o](i)}),a}}if(n==="number"){const r=e-t;return l=>t+l*r}throw new Error(`Cannot interpolate ${n} values`)}function yn(t,e={}){const n=rt(t);let r,l=t;function i(a,o){if(t==null)return n.set(t=a),Promise.resolve();l=a;let u=r,c=!1,{delay:g=0,duration:d=400,easing:m=kt,interpolate:v=Xe}=Je(Je({},e),o);if(d===0)return u&&(u.abort(),u=null),n.set(t=l),Promise.resolve();const p=Lt()+g;let b;return r=jt(w=>{if(w<p)return!0;c||(b=v(t,a),typeof d=="function"&&(d=d(t,a)),c=!0),u&&(u.abort(),u=null);const _=w-p;return _>d?(n.set(t=a),!1):(n.set(t=b(m(_/d))),!0)}),r.promise}return{set:i,update:(a,o)=>i(a(l,t),o),subscribe:n.subscribe}}function mt(t,e,n){const r=t.slice();return r[11]=e[n],r}function bn(t){let e,n;return{c(){e=O("svg"),n=O("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","1.5"),s(e,"stroke","currentColor"),s(e,"class","w-[10vh] h-[10vh]")},m(r,l){C(r,e,l),f(e,n)},p:D,d(r){r&&x(e)}}}function kn(t){let e,n;return{c(){e=h("img"),s(e,"loading","lazy"),Ce(e.src,n=t[0].images[0].url)||s(e,"src",n),s(e,"class","rounded-full max-h-[10vh] shadow-black shadow-lg ring-1 ring-black"),s(e,"alt","playlist's cover")},m(r,l){C(r,e,l)},p(r,l){l&1&&!Ce(e.src,n=r[0].images[0].url)&&s(e,"src",n)},d(r){r&&x(e)}}}function xn(t){let e,n;return{c(){e=O("svg"),n=O("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","m19.5 8.25-7.5 7.5-7.5-7.5"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","4"),s(e,"stroke","currentColor"),s(e,"class","w-[1.2em] text-xs aspect-square")},m(r,l){C(r,e,l),f(e,n)},d(r){r&&x(e)}}}function $n(t){let e,n;return{c(){e=O("svg"),n=O("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","m4.5 15.75 7.5-7.5 7.5 7.5"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","3"),s(e,"stroke","currentColor"),s(e,"class","w-[1.2em] aspect-square text-xs")},m(r,l){C(r,e,l),f(e,n)},d(r){r&&x(e)}}}function Cn(t){let e;return{c(){e=F("download")},m(n,r){C(n,e,r)},p:D,d(n){n&&x(e)}}}function Ln(t){let e;return{c(){e=F("downloaded")},m(n,r){C(n,e,r)},p:D,d(n){n&&x(e)}}}function Mn(t){let e,n,r,l;function i(u,c){return u[3].stage=="downloading"?Sn:jn}let a=i(t),o=a(t);return{c(){e=O("svg"),n=O("path"),r=k(),o.c(),l=nt(),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","1.5"),s(e,"stroke","currentColor"),s(e,"class","w-4 h-4 inline animate-spin")},m(u,c){C(u,e,c),f(e,n),C(u,r,c),o.m(u,c),C(u,l,c)},p(u,c){a!==(a=i(u))&&(o.d(1),o=a(u),o&&(o.c(),o.m(l.parentNode,l)))},d(u){u&&(x(e),x(r),x(l)),o.d(u)}}}function jn(t){let e;return{c(){e=F("converting")},m(n,r){C(n,e,r)},d(n){n&&x(e)}}}function Sn(t){let e;return{c(){e=F("downloading")},m(n,r){C(n,e,r)},d(n){n&&x(e)}}}function wt(t){let e,n,r;return{c(){e=h("button"),e.textContent="save",s(e,"class","text-xs p-1")},m(l,i){C(l,e,i),n||(r=oe(e,"click",t[8]),n=!0)},p:D,d(l){l&&x(e),n=!1,r()}}}function _t(t){let e,n,r,l=t[1].tracks.total+"",i,a,o,u,c,g=qe(t[1].tracks.items),d=[];for(let m=0;m<g.length;m+=1)d[m]=vt(mt(t,g,m));return{c(){e=h("div"),n=h("div"),r=h("div"),i=F(l),a=F(" tracks"),o=k();for(let m=0;m<d.length;m+=1)d[m].c();s(r,"class","bg-zinc-950 rounded-full text-white p-2"),s(n,"class","overflow-hidden overflow-x-scroll flex flex-row items-center space-x-2 p-1 relative"),s(e,"class","col-span-4 bg-zinc-500/10 rounded-md mx-2 text-xs flex flex-row justify-center")},m(m,v){C(m,e,v),f(e,n),f(n,r),f(r,i),f(r,a),f(n,o);for(let p=0;p<d.length;p+=1)d[p]&&d[p].m(n,null);c=!0},p(m,v){if((!c||v&2)&&l!==(l=m[1].tracks.total+"")&&ue(i,l),v&10){g=qe(m[1].tracks.items);let p;for(p=0;p<g.length;p+=1){const b=mt(m,g,p);d[p]?d[p].p(b,v):(d[p]=vt(b),d[p].c(),d[p].m(n,null))}for(;p<d.length;p+=1)d[p].d(1);d.length=g.length}},i(m){c||(m&&fe(()=>{c&&(u||(u=de(e,Le,{duration:250},!0)),u.run(1))}),c=!0)},o(m){m&&(u||(u=de(e,Le,{duration:250},!1)),u.run(0)),c=!1},d(m){m&&x(e),At(d,m),m&&u&&u.end()}}}function An(t){let e;return{c(){e=h("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[5vh] h-[5vh]"><path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"></path></svg> ',s(e,"class","ring-1 ring-black shadow-md shadow-black rounded-full")},m(n,r){C(n,e,r)},p:D,d(n){n&&x(e)}}}function En(t){let e,n,r;return{c(){e=h("img"),s(e,"loading","lazy"),Ce(e.src,n=t[11].track.album.images[0].url)||s(e,"src",n),s(e,"class",r="aspect-square h-[5vh] rounded-full ring-1 ring-black shadow-sm shadow-black will-change-auto "+(t[3].is?(t[3].statuses[t[11].track.id]=="downloading"?" rotating-image":"")+(t[3].statuses[t[11].track.id]=="ready"?" shadow-green-500 ring-green-500":"")+(t[3].statuses[t[11].track.id]=="failed"?" shadow-red-500 ring-red-500":""):"")),s(e,"alt","album")},m(l,i){C(l,e,i)},p(l,i){i&2&&!Ce(e.src,n=l[11].track.album.images[0].url)&&s(e,"src",n),i&10&&r!==(r="aspect-square h-[5vh] rounded-full ring-1 ring-black shadow-sm shadow-black will-change-auto "+(l[3].is?(l[3].statuses[l[11].track.id]=="downloading"?" rotating-image":"")+(l[3].statuses[l[11].track.id]=="ready"?" shadow-green-500 ring-green-500":"")+(l[3].statuses[l[11].track.id]=="failed"?" shadow-red-500 ring-red-500":""):""))&&s(e,"class",r)},d(l){l&&x(e)}}}function vt(t){let e;function n(i,a){return i[11].track&&i[11].track.album.images.length>0?En:An}let r=n(t),l=r(t);return{c(){l.c(),e=nt()},m(i,a){l.m(i,a),C(i,e,a)},p(i,a){r===(r=n(i))&&l?l.p(i,a):(l.d(1),l=r(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){i&&x(e),l.d(i)}}}function Bn(t){let e,n,r,l,i,a,o,u,c,g=t[0].name+"",d,m,v,p,b,w,_,L=(t[0].description||`by ${t[0].owner.display_name}`)+"",S,M,j,H,W,P,U,ee,A,Z=t[4]&&Object.keys(t[1]).length>0,X,B;function V(y,T){return y[0].images.length>0?kn:bn}let J=V(t),K=J(t);function je(y,T){return y[4]?$n:xn}let te=je(t),Y=te(t);function Se(y,T){return y[3].is?Mn:y[2].length>0?Ln:Cn}let ne=Se(t),Q=ne(t),N=t[2].length>0&&!t[3].is&&wt(t),E=Z&&_t(t);return{c(){e=h("div"),n=h("div"),l=k(),i=h("div"),a=h("div"),K.c(),o=k(),u=h("div"),c=h("a"),d=F(g),m=k(),v=O("svg"),p=O("path"),w=k(),_=h("p"),S=F(L),M=k(),j=h("div"),H=h("button"),Y.c(),W=k(),P=h("button"),Q.c(),ee=k(),N&&N.c(),A=k(),E&&E.c(),s(n,"class","h-1 absolute backdrop-opacity-50 bg-aodPurple rounded-sm left-0 bottom-0 z-50"),Te(n,"width",t[5]/100*90+"vw"),n.hidden=r=!t[3].is,s(a,"class","col-span-1 flex flex-col items-center justify-center"),s(p,"stroke-linecap","round"),s(p,"stroke-linejoin","round"),s(p,"d","M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),s(v,"xmlns","http://www.w3.org/2000/svg"),s(v,"fill","none"),s(v,"viewBox","0 0 24 24"),s(v,"stroke-width","1.5"),s(v,"stroke","currentColor"),s(v,"class","w-4 h-4 inline"),s(c,"class","hover:scale-110 duration-75 text-left line-clamp-1"),s(c,"href",b=t[0].external_urls.spotify),s(c,"target","_blank"),s(_,"class","text-xs line-clamp-1 text-gray-300"),s(H,"class","bg-transparent text-white ring-1 p-1 ring-zinc-500 hover:scale-110"),s(H,"aria-label","show more"),s(P,"class","text-xs bg-aodPurple p-1"),P.disabled=U=t[3].is||t[2].length>0,s(j,"class","flex flex-row space-x-2 mt-1"),s(u,"class","col-span-3 flex flex-col justify-center items-start"),s(i,"class","grid grid-cols-4 w-full gap-1"),s(e,"class","bg-gray-950/50 ring-1 ring-zinc-500 py-2 rounded-md w-[90vw] text-center relative")},m(y,T){C(y,e,T),f(e,n),f(e,l),f(e,i),f(i,a),K.m(a,null),f(i,o),f(i,u),f(u,c),f(c,d),f(c,m),f(c,v),f(v,p),f(u,w),f(u,_),f(_,S),f(u,M),f(u,j),f(j,H),Y.m(H,null),f(j,W),f(j,P),Q.m(P,null),f(j,ee),N&&N.m(j,null),f(i,A),E&&E.m(i,null),X||(B=[oe(H,"click",t[7]),oe(P,"click",t[9])],X=!0)},p(y,[T]){T&32&&Te(n,"width",y[5]/100*90+"vw"),T&8&&r!==(r=!y[3].is)&&(n.hidden=r),J===(J=V(y))&&K?K.p(y,T):(K.d(1),K=J(y),K&&(K.c(),K.m(a,null))),T&1&&g!==(g=y[0].name+"")&&ue(d,g),T&1&&b!==(b=y[0].external_urls.spotify)&&s(c,"href",b),T&1&&L!==(L=(y[0].description||`by ${y[0].owner.display_name}`)+"")&&ue(S,L),te!==(te=je(y))&&(Y.d(1),Y=te(y),Y&&(Y.c(),Y.m(H,null))),ne===(ne=Se(y))&&Q?Q.p(y,T):(Q.d(1),Q=ne(y),Q&&(Q.c(),Q.m(P,null))),T&12&&U!==(U=y[3].is||y[2].length>0)&&(P.disabled=U),y[2].length>0&&!y[3].is?N?N.p(y,T):(N=wt(y),N.c(),N.m(j,null)):N&&(N.d(1),N=null),T&18&&(Z=y[4]&&Object.keys(y[1]).length>0),Z?E?(E.p(y,T),T&18&&q(E,1)):(E=_t(y),E.c(),q(E,1),E.m(i,null)):E&&(Re(),G(E,1,1,()=>{E=null}),Fe())},i(y){q(E)},o(y){G(E)},d(y){y&&x(e),K.d(),Y.d(),Q.d(),N&&N.d(),E&&E.d(),X=!1,pe(B)}}}function Hn(t,e,n){let r,l={},i=[],{playlist:a}=e;const o={is:!1,statuses:{},stage:""};let u=!1,c=yn(0,{duration:1e3,easing:Bt});Ze(t,c,p=>n(5,r=p));const g=()=>{u==!1?(Object.keys(l).length==0&&d(),n(4,u=!0)):n(4,u=!1)},d=async()=>{const p=a.external_urls.spotify,w=new URL(p).pathname.split("/")[2];re("loading playlist info",!0,1,async _=>{let L=await ce.getPlaylistInfo(w);n(1,l=L),_()})},m=()=>{i.forEach(({blob:p,trackid:b},w)=>{const _=URL.createObjectURL(p),L=document.createElement("a");L.href=_,L.download=`${b}.mp3`,L.click()})},v=async()=>{if(Object.keys(l).length==0&&await d(),!l.tracks)return;if(l.tracks.items.length==0){re("cannot download empty playlist");return}n(3,o.is=!0,o),n(3,o.stage="converting",o),c.set(0,{duration:1}),c.set(10,{duration:1e4});let p=l.tracks.items[0].track;ce.getDownloadTrack(p.external_urls.spotify,"",!0).then(async b=>{if(b.success==!1){se(c,r=0,r),n(3,o.is=!1,o),re(`serverErr: ${b.info}`);return}const w=b.data.key;n(3,o.statuses[p.id]="downloading",o);for(const[L,{track:S}]of[...l.tracks.items].splice(1).entries())S&&n(3,o.statuses[S.id]="downloading",o),(await ce.getDownloadTrack(S.external_urls.spotify,w,!1)).success==!1&&re(`failed downloading track (${S.name})`);await c.set(10);const _=setInterval(async()=>{let L=await ce.getDownloadStatus(w);const S=L.data.filter(M=>M.status!=="downloading");if(L.data.forEach(M=>{n(3,o.statuses[M.id]=M.status,o)}),se(c,r=S.length/L.data.length*40+10,r),S.length==L.data.length){n(3,o.stage="downloading",o),clearInterval(_);for(let M=0;M<S.length;M++){let[j,H,W]=await ce.getStreamPlaylist(w);if(!j){re(`failed downloading a track (in "${a.name}")`);continue}n(2,i=[...i,{blob:H,trackid:W}]),se(c,r=(M+1)/S.length*50+50,r)}await c.set(100,{duration:500}),n(3,o.is=!1,o)}},5e3)})};return t.$$set=p=>{"playlist"in p&&n(0,a=p.playlist)},[a,l,i,o,u,r,c,g,m,v]}class In extends ve{constructor(e){super(),_e(this,e,Hn,Bn,ge,{playlist:0})}}const Be=rt({loggedIn:!1,user:{},playlists:{}});function On(t){let e,n;return{c(){e=O("svg"),n=O("circle"),s(n,"cx","50"),s(n,"cy","50"),s(n,"r","50"),s(e,"viewBox","0 0 100 100"),s(e,"class","w-[0.2em] fill-white")},m(r,l){C(r,e,l),f(e,n)},p:D,i:D,o:D,d(r){r&&x(e)}}}class Pn extends ve{constructor(e){super(),_e(this,e,null,On,ge,{})}}function yt(t,e,n){const r=t.slice();return r[2]=e[n],r}function Un(t){let e,n;return{c(){e=O("svg"),n=O("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","1.5"),s(e,"stroke","currentColor"),s(e,"class","w-[15vw] max-w-[10vh] aspect-square rounded-full ring-aodBg ring-2")},m(r,l){C(r,e,l),f(e,n)},p:D,d(r){r&&x(e)}}}function Tn(t){let e,n,r;return{c(){e=h("img"),s(e,"loading","lazy"),Ce(e.src,n=t[0].user.images[1].url)||s(e,"src",n),s(e,"alt",r=`${t[0].user.display_name}'s profile picture`),s(e,"class","rounded-full w-[15vw] max-w-[10vh] ring-aodBg ring-1 shadow-sm shadow-black aspect-square")},m(l,i){C(l,e,i)},p(l,i){i&1&&!Ce(e.src,n=l[0].user.images[1].url)&&s(e,"src",n),i&1&&r!==(r=`${l[0].user.display_name}'s profile picture`)&&s(e,"alt",r)},d(l){l&&x(e)}}}function bt(t){let e,n;return e=new In({props:{playlist:t[2]}}),{c(){Me(e.$$.fragment)},m(r,l){me(e,r,l),n=!0},p(r,l){const i={};l&1&&(i.playlist=r[2]),e.$set(i)},i(r){n||(q(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function zn(t){let e,n,r,l,i,a,o=t[0].user.display_name+"",u,c,g,d,m,v=t[0].user.followers.total+"",p,b,w,_,L,S,M,j,H,W=t[0].playlists.total+"",P,U,ee,A,Z,X,B,V,J=t[0].user.id+"",K,je,te,Y,Se,ne,Q,N,E,y,T,We,ie,Ve,lt;function st($,R){return $[0].user.images.length==2?Tn:Un}let Ie=st(t),le=Ie(t);M=new Pn({});let he=qe(t[0].playlists.items),I=[];for(let $=0;$<he.length;$+=1)I[$]=bt(yt(t,he,$));const It=$=>G(I[$],1,1,()=>{I[$]=null});return{c(){e=h("div"),n=h("div"),r=h("div"),le.c(),l=k(),i=h("div"),a=h("p"),u=F(o),c=k(),g=h("div"),d=h("div"),m=h("p"),p=F(v),b=k(),w=O("svg"),_=O("path"),L=O("path"),S=k(),Me(M.$$.fragment),j=k(),H=h("p"),P=F(W),U=F(" playlists"),ee=k(),A=h("div"),Z=O("svg"),X=O("path"),B=k(),V=h("span"),K=F(J),je=k(),te=h("div"),Y=h("button"),Y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>',Se=k(),ne=h("button"),ne.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"></path></svg>',Q=k(),N=h("div"),E=h("div");for(let $=0;$<I.length;$+=1)I[$].c();T=k(),We=h("div"),s(a,"class","font-semibold"),Te(a,"text-shadow","4px 3px 8px rgba(0,0,0,1)"),s(_,"fill-rule","evenodd"),s(_,"d","M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z"),s(_,"clip-rule","evenodd"),s(L,"d","M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"),s(w,"xmlns","http://www.w3.org/2000/svg"),s(w,"viewBox","0 0 24 24"),s(w,"fill","currentColor"),s(w,"class","w-[1em] inline"),s(d,"class","svg-icon"),s(g,"class","flex flex-row justify-center items-center space-x-2 text-xs text-gray-300"),s(X,"d","M177.707 98.987c-35.992-21.375-95.36-23.34-129.719-12.912-5.519 1.674-11.353-1.44-13.024-6.958-1.672-5.521 1.439-11.352 6.96-13.029 39.443-11.972 105.008-9.66 146.443 14.936 4.964 2.947 6.59 9.356 3.649 14.31-2.944 4.963-9.359 6.6-14.31 3.653m-1.178 31.658c-2.525 4.098-7.883 5.383-11.975 2.867-30.005-18.444-75.762-23.788-111.262-13.012-4.603 1.39-9.466-1.204-10.864-5.8a8.717 8.717 0 015.805-10.856c40.553-12.307 90.968-6.347 125.432 14.833 4.092 2.52 5.38 7.88 2.864 11.968m-13.663 30.404a6.954 6.954 0 01-9.569 2.316c-26.22-16.025-59.223-19.644-98.09-10.766a6.955 6.955 0 01-8.331-5.232 6.95 6.95 0 015.233-8.334c42.533-9.722 79.017-5.538 108.448 12.446a6.96 6.96 0 012.31 9.57M111.656 0C49.992 0 0 49.99 0 111.656c0 61.672 49.992 111.66 111.657 111.66 61.668 0 111.659-49.988 111.659-111.66C223.316 49.991 173.326 0 111.657 0"),s(X,"fill","#1DB954"),s(Z,"xmlns","http://www.w3.org/2000/svg"),s(Z,"class","w-[1em] inline"),s(Z,"viewBox","-33.4974 -55.829 290.3108 334.974"),s(V,"class","text-ellipsis"),s(A,"class","text-xs select-text svg-icon text-gray-300"),s(i,"class","flex flex-col justify-center items-start"),s(r,"class","flex flex-row items-center justify-center space-x-2"),s(Y,"class","bg-gray-950 text-white svg-icon"),s(Y,"aria-label","settings"),s(ne,"class","bg-red-500 text-black svg-icon"),s(ne,"aria-label","logout"),s(te,"class","flex flex-row justify-center items-center space-x-1 px-1"),s(n,"class","flex flex-row justify-center items-center h-[13vh] space-x-5 bg-gradient-to-t from-gray-950/50 backdrop-blur-sm to-zinc-500 w-[90vw] rounded-t-md ring-1 ring-zinc-500 z-50"),s(E,"class","flex flex-col justify-center items-center w-full space-y-2 pb-1"),s(N,"class","h-[70vh] overflow-y-scroll w-[100vw]"),s(We,"class","backdrop-opacity-100 rounded-full backdrop-blur-sm w-[95vw] h-5 absolute bottom-0 left-auto right-auto"),s(e,"class","flex flex-col items-center -space-y-1")},m($,R){C($,e,R),f(e,n),f(n,r),le.m(r,null),f(r,l),f(r,i),f(i,a),f(a,u),f(i,c),f(i,g),f(g,d),f(d,m),f(m,p),f(d,b),f(d,w),f(w,_),f(w,L),f(g,S),me(M,g,null),f(g,j),f(g,H),f(H,P),f(H,U),f(i,ee),f(i,A),f(A,Z),f(Z,X),f(A,B),f(A,V),f(V,K),f(n,je),f(n,te),f(te,Y),f(te,Se),f(te,ne),f(e,Q),f(e,N),f(N,E);for(let z=0;z<I.length;z+=1)I[z]&&I[z].m(E,null);f(e,T),f(e,We),ie=!0,Ve||(lt=oe(ne,"click",t[1]),Ve=!0)},p($,[R]){if(Ie===(Ie=st($))&&le?le.p($,R):(le.d(1),le=Ie($),le&&(le.c(),le.m(r,l))),(!ie||R&1)&&o!==(o=$[0].user.display_name+"")&&ue(u,o),(!ie||R&1)&&v!==(v=$[0].user.followers.total+"")&&ue(p,v),(!ie||R&1)&&W!==(W=$[0].playlists.total+"")&&ue(P,W),(!ie||R&1)&&J!==(J=$[0].user.id+"")&&ue(K,J),R&1){he=qe($[0].playlists.items);let z;for(z=0;z<he.length;z+=1){const it=yt($,he,z);I[z]?(I[z].p(it,R),q(I[z],1)):(I[z]=bt(it),I[z].c(),q(I[z],1),I[z].m(E,null))}for(Re(),z=he.length;z<I.length;z+=1)It(z);Fe()}},i($){if(!ie){q(M.$$.fragment,$);for(let R=0;R<he.length;R+=1)q(I[R]);$&&fe(()=>{ie&&(y||(y=de(E,Le,{duration:1e3},!0)),y.run(1))}),ie=!0}},o($){G(M.$$.fragment,$),I=I.filter(Boolean);for(let R=0;R<I.length;R+=1)G(I[R]);$&&(y||(y=de(E,Le,{duration:1e3},!1)),y.run(0)),ie=!1},d($){$&&x(e),le.d(),we(M),At(I,$),$&&y&&y.end(),Ve=!1,lt()}}}function Dn(t,e,n){let r;return Ze(t,Be,i=>n(0,r=i)),[r,()=>{localStorage.removeItem("cartier-userid"),se(Be,r.loggedIn=!1,r)}]}class Nn extends ve{constructor(e){super(),_e(this,e,Dn,zn,ge,{})}}function qn(t){let e,n;return e=new Nn({}),{c(){Me(e.$$.fragment)},m(r,l){me(e,r,l),n=!0},p:D,i(r){n||(q(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function Zn(t){let e,n;return e=new vn({props:{handleUsername:t[1]}}),{c(){Me(e.$$.fragment)},m(r,l){me(e,r,l),n=!0},p:D,i(r){n||(q(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function Rn(t){let e;return{c(){e=h("span"),e.textContent="prod",s(e,"class","rounded-sm p-0.5 bg-blue-600")},m(n,r){C(n,e,r)},d(n){n&&x(e)}}}function Fn(t){let e,n,r,l,i,a,o,u,c,g,d,m,v,p,b,w,_,L,S,M,j,H,W;const P=[Zn,qn],U=[];function ee(B,V){return B[0].loggedIn==!1?0:1}g=ee(t),d=U[g]=P[g](t);function A(B,V){return Rn}let X=A()(t);return{c(){e=h("div"),n=k(),r=h("main"),l=h("div"),l.innerHTML='<a href="https://github.com/reold" target="_blank" aria-label="goto reold&#39;s page" class="bg-aodPurple shadow-sm text-gray-950 shadow-gray-950 rounded-md p-2 ml-2 h-11/12 flex flex-col items-center justify-center"><svg class="h-[0.75em]" viewBox="0 0 146 28" xmlns="http://www.w3.org/2000/svg"><path d="M0.028144 14.6351C0.00946983 14.5455 0.00319455 14.4537 0.00949413 14.3623L0.935779 0.931198C0.971941 0.406861 1.40783 0 1.93341 0H27.6172C28.1215 0 28.5469 0.375536 28.6095 0.875965L29.8983 11.1865C29.9574 11.6595 29.6745 12.1085 29.2223 12.2592L26.8461 13.0513C25.7699 13.41 26.0279 15 27.1623 15H27.7891C28.2147 15 28.5937 15.2694 28.7336 15.6715L32.5 26.5L32.0196 1.51923C32.0088 0.959521 32.4596 0.5 33.0194 0.5H58.8672C59.4687 0.5 59.9341 1.02718 59.8595 1.62403L59.0947 7.7421C59.0388 8.18957 58.6903 8.54424 58.2439 8.60802L52.7135 9.39807C52.2874 9.45894 51.8702 9.24032 51.6777 8.85533L49.8879 5.27573C49.6653 4.83062 49.1493 4.61689 48.6772 4.77426L47.0077 5.33076C46.6905 5.43649 46.4472 5.69375 46.3592 6.01633L45.3445 9.73688C45.171 10.373 45.6499 11 46.3093 11H54.0723C54.7663 11 55.2493 11.6896 55.0121 12.3417L53.7538 15.8021C53.6031 16.2165 53.1988 16.4833 52.7585 16.4588L45.464 16.0536C44.9262 16.0237 44.4614 16.4251 44.4126 16.9615L44.1056 20.3387C44.0501 20.9492 44.552 21.4655 45.1638 21.4273L51.3857 21.0384C51.7624 21.0148 52.0938 20.7812 52.2425 20.4343L53.2161 18.1625C53.3856 17.7669 53.7893 17.5241 54.2183 17.5599L59.5 18L58.1458 25.6738C58.0615 26.1516 57.6463 26.5 57.161 26.5H32.5H19.3346C18.8513 26.5 18.4372 26.1544 18.3507 25.6789L17.5502 21.2759C17.5174 21.0954 17.4356 20.9275 17.3137 20.7904L15.2474 18.4658C14.6365 17.7786 13.5 18.2107 13.5 19.1302V25.5C13.5 26.0523 13.0523 26.5 12.5 26.5H3.31314C2.83946 26.5 2.43077 26.1677 2.33416 25.704L0.028144 14.6351Z" fill="url(#paint0_linear_2_5)"></path><path d="M59.5 18V11.3124C59.5 11.109 59.562 10.9104 59.6778 10.7432L63.8477 4.71999C63.9475 4.57586 64.0834 4.4605 64.2418 4.38546L73.2968 0.0962621C73.4306 0.0328787 73.5768 0 73.7249 0H84.4064C84.7723 0 85.109 0.199887 85.2843 0.521148L88 5.5L88.826 1.78307C88.9277 1.32553 89.3335 1 89.8022 1H101.839C102.45 1 102.918 1.54374 102.828 2.14834L100.149 20.0041C100.067 20.553 100.447 21.0639 100.997 21.1424L106.376 21.9109C106.757 21.9653 107.136 21.796 107.35 21.4756L109.67 17.9951C109.873 17.69 110.227 17.5207 110.593 17.5539L115.5 18V1.93112C115.5 1.40648 115.905 0.971039 116.429 0.93366L129.388 0.00801164C129.462 0.00268732 129.537 0.00573536 129.611 0.0170986L141.886 1.90548C142.262 1.96336 142.573 2.22978 142.687 2.59273L145.354 11.0381C145.446 11.3298 145.4 11.6477 145.228 11.9008L136.288 25.0761C136.107 25.3423 135.809 25.5053 135.488 25.5142L118.757 25.979C118.309 25.9914 117.908 25.7049 117.774 25.2776L115.5 18L113.689 25.2425C113.578 25.6877 113.178 26 112.719 26H89.905C89.3912 26 88.9611 25.6107 88.91 25.0995L88 16L81.673 23.7871C81.5598 23.9265 81.4111 24.0328 81.2426 24.0948L72.2892 27.3934C72.1008 27.4629 71.8958 27.474 71.701 27.4252L64.4018 25.6005C64.1445 25.5361 63.9233 25.3722 63.7869 25.1448L59.5 18Z" fill="url(#paint1_linear_2_5)"></path><defs><linearGradient id="paint0_linear_2_5" x1="72.75" y1="0" x2="72.75" y2="27.5" gradientUnits="userSpaceOnUse"><stop></stop><stop offset="1" stop-opacity="0.5"></stop></linearGradient><linearGradient id="paint1_linear_2_5" x1="72.75" y1="0" x2="72.75" y2="27.5" gradientUnits="userSpaceOnUse"><stop></stop><stop offset="1" stop-opacity="0.5"></stop></linearGradient></defs></svg></a> <p class="text-3xl">Cartier Manager</p>',i=k(),a=h("div"),o=h("div"),c=k(),d.c(),m=k(),v=h("div"),p=h("p"),X.c(),b=F(`
      built by
      `),w=h("a"),w.textContent="reold",_=F(`.
      `),L=h("button"),L.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"></path></svg>
        use render`,S=k(),M=h("a"),M.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg> <span>report issue</span>',s(e,"class","bg-black opacity-75 p-1 rounded-md w-[80vw] max-w-[90vw] z-[1000]"),Te(e,"display","none"),s(l,"class","flex flex-row items-center justify-evenly font-bold h-[10vh] bg-gray-950 ring-1 ring-zinc-500 shadow-xl"),s(o,"class","absolute left-0 top-0 w-full flex flex-col items-center justify-center space-y-1 text-xs"),s(a,"class","flex flex-col space-y-1 items-center relative h-[85vh] bg-gradient-to-t from-gray-950 via-[#203A43] to-gray-950"),s(w,"href","https://github.com/reold"),s(w,"target","_blank"),s(w,"class","text-blue-600"),s(L,"aria-label","use alternative render service servers"),s(L,"class","p-0 bg-transparent text-orange-600 text-xs disabled:animate-pulse"),s(M,"href","https://github.com/reold/cartier/issues/new"),s(M,"target","_blank"),s(M,"class","text-blue-600"),s(v,"class","w-full h-[5vh] bg-gray-950 text-xs flex flex-col items-center justify-center"),s(r,"class","w-screen h-screen text-white text-xl select-none text-center")},m(B,V){C(B,e,V),t[2](e),C(B,n,V),C(B,r,V),f(r,l),f(r,i),f(r,a),f(a,o),t[3](o),f(a,c),U[g].m(a,null),f(r,m),f(r,v),f(v,p),X.m(p,null),f(p,b),f(p,w),f(p,_),f(p,L),f(p,S),f(p,M),j=!0,H||(W=oe(L,"click",t[4]),H=!0)},p(B,[V]){let J=g;g=ee(B),g===J?U[g].p(B,V):(Re(),G(U[J],1,1,()=>{U[J]=null}),Fe(),d=U[g],d?d.p(B,V):(d=U[g]=P[g](B),d.c()),q(d,1),d.m(a,null))},i(B){j||(B&&fe(()=>{j&&(u||(u=de(o,Le,{duration:1e4},!0)),u.run(1))}),q(d),j=!0)},o(B){B&&(u||(u=de(o,Le,{duration:1e4},!1)),u.run(0)),G(d),j=!1},d(B){B&&(x(e),x(n),x(r)),t[2](null),t[3](null),B&&u&&u.end(),U[g].d(),X.d(),H=!1,W()}}}let Ue,Ht;const re=(t,e=!1,n=3,r)=>{const l=Ht.cloneNode(!0);l.innerHTML=e?`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1.2em] animate-spin inline aspect-square mr-1" > <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" /> </svg>${t}`:t,l.style.display="block",Ue.appendChild(l),r?r(()=>{Ue.removeChild(l)}):setTimeout(()=>{Ue.removeChild(l)},n*1e3)};function Wn(t,e,n){let r;Ze(t,Be,u=>n(0,r=u));const l=(u,c)=>{ce.getUserInfo(u).then(g=>{if(g.success==!1){re("something went wrong!");return}se(Be,r={...r,...g.data},r),se(Be,r.loggedIn=!0,r),c&&c()})};function i(u){Ne[u?"unshift":"push"](()=>{Ht=u})}function a(u){Ne[u?"unshift":"push"](()=>{Ue=u})}return[r,l,i,a,async({target:u})=>{window["cartier-server-url"]="https://cartier-backend.onrender.com",u&&(u.disabled=!0,u.innerText="using render"),re("switching & waking alternate (render)server",!0,5,async c=>{await ce.getRoot(),c(),re("(render)server running")})}]}class Vn extends ve{constructor(e){super(),_e(this,e,Wn,Fn,ge,{})}}new Vn({target:document.getElementById("app")});
