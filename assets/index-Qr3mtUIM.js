var He=Object.defineProperty;var Ve=(t,e,n)=>e in t?He(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ge=(t,e,n)=>(Ve(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function P(){}const Fe=t=>t;function xe(t,e){for(const n in e)t[n]=e[n];return t}function Be(t){return t()}function je(){return Object.create(null)}function Z(t){t.forEach(Be)}function Me(t){return typeof t=="function"}function se(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let oe;function ue(t,e){return t===e?!0:(oe||(oe=document.createElement("a")),oe.href=e,t===oe.href)}function Je(t){return Object.keys(t).length===0}function Ke(t,...e){if(t==null){for(const r of e)r(void 0);return P}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ve(t,e,n){t.$$.on_destroy.push(Ke(e,n))}function ne(t,e,n){return t.set(n),e}const Ie=typeof window<"u";let Ge=Ie?()=>window.performance.now():()=>Date.now(),Te=Ie?t=>requestAnimationFrame(t):P;const X=new Set;function Ne(t){X.forEach(e=>{e.c(t)||(X.delete(e),e.f())}),X.size!==0&&Te(Ne)}function Qe(t){let e;return X.size===0&&Te(Ne),{promise:new Promise(n=>{X.add(e={c:t,f:n})}),abort(){X.delete(e)}}}function a(t,e){t.appendChild(e)}function B(t,e,n){t.insertBefore(e,n||null)}function O(t){t.parentNode&&t.parentNode.removeChild(t)}function We(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function V(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function S(t){return document.createTextNode(t)}function U(){return S(" ")}function re(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function o(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Xe(t){return Array.from(t.childNodes)}function W(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ae(t,e){t.value=e??""}function _e(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let ke;function le(t){ke=t}const Q=[],Ee=[];let Y=[];const Le=[],Ye=Promise.resolve();let we=!1;function Ze(){we||(we=!0,Ye.then(qe))}function be(t){Y.push(t)}const me=new Set;let K=0;function qe(){if(K!==0)return;const t=ke;do{try{for(;K<Q.length;){const e=Q[K];K++,le(e),et(e.$$)}}catch(e){throw Q.length=0,K=0,e}for(le(null),Q.length=0,K=0;Ee.length;)Ee.pop()();for(let e=0;e<Y.length;e+=1){const n=Y[e];me.has(n)||(me.add(n),n())}Y.length=0}while(Q.length);for(;Le.length;)Le.pop()();we=!1,me.clear(),le(t)}function et(t){if(t.fragment!==null){t.update(),Z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(be)}}function tt(t){const e=[],n=[];Y.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Y=e}const ie=new Set;let F;function ze(){F={r:0,c:[],p:F}}function De(){F.r||Z(F.c),F=F.p}function R(t,e){t&&t.i&&(ie.delete(t),t.i(e))}function J(t,e,n,r){if(t&&t.o){if(ie.has(t))return;ie.add(t),F.c.push(()=>{ie.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Ce(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function $e(t){t&&t.c()}function fe(t,e,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),be(()=>{const s=t.$$.on_mount.map(Be).filter(Me);t.$$.on_destroy?t.$$.on_destroy.push(...s):Z(s),t.$$.on_mount=[]}),l.forEach(be)}function de(t,e){const n=t.$$;n.fragment!==null&&(tt(n.after_update),Z(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e){t.$$.dirty[0]===-1&&(Q.push(t),Ze(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pe(t,e,n,r,l,s,i=null,d=[-1]){const u=ke;le(t);const c=t.$$={fragment:null,ctx:[],props:s,update:P,not_equal:l,bound:je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:je(),dirty:d,skip_bound:!1,root:e.target||u.$$.root};i&&i(c.root);let m=!1;if(c.ctx=n?n(t,e.props||{},(p,k,...f)=>{const b=f.length?f[0]:k;return c.ctx&&l(c.ctx[p],c.ctx[p]=b)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](b),m&&nt(t,p)),k}):[],c.update(),m=!0,Z(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const p=Xe(e.target);c.fragment&&c.fragment.l(p),p.forEach(O)}else c.fragment&&c.fragment.c();e.intro&&R(t.$$.fragment),fe(t,e.target,e.anchor),qe()}le(u)}class he{constructor(){ge(this,"$$");ge(this,"$$set")}$destroy(){de(this,1),this.$destroy=P}$on(e,n){if(!Me(n))return P;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!Je(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rt);function lt(t){let e,n,r,l,s,i,d,u,c,m,p,k,f,b;return{c(){e=h("div"),n=h("p"),n.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 inline"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"></path></svg>
    fill-in to continue`,r=U(),l=h("div"),s=h("div"),i=h("input"),d=U(),u=h("button"),u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 inline rounded-full"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg>',c=U(),m=h("p"),m.textContent="copy your profile link from your spotify account page",p=U(),k=h("button"),k.textContent="continue",o(n,"class","text-2xl"),o(i,"type","text"),o(i,"class","w-full"),o(i,"placeholder","spotify profile link"),o(u,"class","bg-zinc-500"),o(s,"class","w-full flex flex-row items-center justify-center space-x-2"),o(m,"class","text-sm"),o(l,"class","flex flex-col items-center justify-center"),o(k,"class","hover:scale-110"),o(e,"class","flex flex-col items-center text-center justify-center bg-aodFg ring-2 ring-zinc-500 rounded-md w-11/12 py-5 space-y-7 px-5")},m($,x){B($,e,x),a(e,n),a(e,r),a(e,l),a(l,s),a(s,i),Ae(i,t[0]),a(s,d),a(s,u),a(l,c),a(l,m),a(e,p),a(e,k),f||(b=[re(i,"input",t[4]),re(u,"click",t[1]),re(k,"click",t[2])],f=!0)},p($,[x]){x&1&&i.value!==$[0]&&Ae(i,$[0])},i:P,o:P,d($){$&&O(e),f=!1,Z(b)}}}function st(t,e,n){let{handleUsername:r}=e,l="";const s=async()=>{navigator.clipboard.readText&&n(0,l=await navigator.clipboard.readText())},i=()=>{let u;try{u=new URL(l)}catch{n(0,l="");return}const c=u.pathname.split("/")[2];r(c)};function d(){l=this.value,n(0,l)}return t.$$set=u=>{"handleUsername"in u&&n(3,r=u.handleUsername)},[l,s,i,r,d]}class ot extends he{constructor(e){super(),pe(this,e,st,lt,se,{handleUsername:3})}}const G=[];function Re(t,e=P){let n;const r=new Set;function l(d){if(se(t,d)&&(t=d,n)){const u=!G.length;for(const c of r)c[1](),G.push(c,t);if(u){for(let c=0;c<G.length;c+=2)G[c][0](G[c+1]);G.length=0}}}function s(d){l(d(t))}function i(d,u=P){const c=[d,u];return r.add(c),r.size===1&&(n=e(l,s)||P),d(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:l,update:s,subscribe:i}}function Pe(t){return Object.prototype.toString.call(t)==="[object Date]"}function it(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function ye(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((l,s)=>ye(t[s],l));return l=>r.map(s=>s(l))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Pe(t)&&Pe(e)){t=t.getTime(),e=e.getTime();const s=e-t;return i=>new Date(t+i*s)}const r=Object.keys(e),l={};return r.forEach(s=>{l[s]=ye(t[s],e[s])}),s=>{const i={};return r.forEach(d=>{i[d]=l[d](s)}),i}}if(n==="number"){const r=e-t;return l=>t+l*r}throw new Error(`Cannot interpolate ${n} values`)}function ct(t,e={}){const n=Re(t);let r,l=t;function s(i,d){if(t==null)return n.set(t=i),Promise.resolve();l=i;let u=r,c=!1,{delay:m=0,duration:p=400,easing:k=Fe,interpolate:f=ye}=xe(xe({},e),d);if(p===0)return u&&(u.abort(),u=null),n.set(t=l),Promise.resolve();const b=Ge()+m;let $;return r=Qe(x=>{if(x<b)return!0;c||($=f(t,i),typeof p=="function"&&(p=p(t,i)),c=!0),u&&(u.abort(),u=null);const E=x-b;return E>p?(n.set(t=i),!1):(n.set(t=$(k(E/p))),!0)}),r.promise}return{set:s,update:(i,d)=>s(i(l,t),d),subscribe:n.subscribe}}let te;te="https://reold-cartier.glitch.me";const ce={getUserInfo:async t=>await(await fetch(`${te}/user?username=${t}`)).json(),getPlaylistInfo:async t=>await(await fetch(`${te}/playlist?id=${t}`)).json(),getDownloadPlaylist:async t=>await(await fetch(`${te}/download?link=${t}`)).json(),getStreamPlaylist:async t=>{let e=await fetch(`${te}/stream?unique_code=${t}`);return[await e.ok,await e.blob()]}};function at(t){let e,n;return{c(){e=V("svg"),n=V("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width","1.5"),o(e,"stroke","currentColor"),o(e,"class","w-[10vh] h-[10vh]")},m(r,l){B(r,e,l),a(e,n)},p:P,d(r){r&&O(e)}}}function ut(t){let e,n;return{c(){e=h("img"),ue(e.src,n=t[0].images[0].url)||o(e,"src",n),o(e,"class","rounded-full max-h-[10vh]"),o(e,"alt","playlist's cover")},m(r,l){B(r,e,l)},p(r,l){l&1&&!ue(e.src,n=r[0].images[0].url)&&o(e,"src",n)},d(r){r&&O(e)}}}function ft(t){let e;return{c(){e=S("download")},m(n,r){B(n,e,r)},d(n){n&&O(e)}}}function dt(t){let e;return{c(){e=S("downloaded")},m(n,r){B(n,e,r)},d(n){n&&O(e)}}}function pt(t){let e,n,r;return{c(){e=V("svg"),n=V("path"),r=S(`
            downloading`),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width","1.5"),o(e,"stroke","currentColor"),o(e,"class","w-4 h-4 inline animate-spin")},m(l,s){B(l,e,s),a(e,n),B(l,r,s)},d(l){l&&(O(e),O(r))}}}function Ue(t){let e,n,r;return{c(){e=h("button"),e.textContent="save",o(e,"class","text-xs")},m(l,s){B(l,e,s),n||(r=re(e,"click",t[5]),n=!0)},p:P,d(l){l&&O(e),n=!1,r()}}}function ht(t){let e,n,r,l,s,i,d,u,c,m=t[0].name+"",p,k,f,b,$,x,E,M=t[0].description+"",q,D,y,A,L,ee,H,I;function z(v,N){return v[0].images.length>0?ut:at}let w=z(t),T=w(t);function g(v,N){return v[2]?pt:v[1].length>0?dt:ft}let j=g(t),_=j(t),C=t[1].length>0&&!t[2]&&Ue(t);return{c(){e=h("div"),n=h("div"),l=U(),s=h("div"),i=h("div"),T.c(),d=U(),u=h("div"),c=h("a"),p=S(m),k=U(),f=V("svg"),b=V("path"),x=U(),E=h("p"),q=S(M),D=U(),y=h("div"),A=h("button"),_.c(),ee=U(),C&&C.c(),o(n,"class","h-full absolute backdrop-invert brightness-50 left-0 top-0 rounded-md"),_e(n,"width",t[3]/100*90+"vw"),n.hidden=r=!t[2],o(i,"class","col-span-1"),o(b,"stroke-linecap","round"),o(b,"stroke-linejoin","round"),o(b,"d","M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),o(f,"xmlns","http://www.w3.org/2000/svg"),o(f,"fill","none"),o(f,"viewBox","0 0 24 24"),o(f,"stroke-width","1.5"),o(f,"stroke","currentColor"),o(f,"class","w-4 h-4 inline"),o(c,"class","hover:scale-110 duration-75 text-left line-clamp-1"),o(c,"href",$=t[0].external_urls.spotify),o(c,"target","_blank"),o(E,"class","text-xs line-clamp-1"),o(A,"class","text-xs bg-aodPurple"),A.disabled=L=t[2]||t[1].length>0,o(u,"class","col-span-2 flex flex-col justify-center items-start"),o(s,"class","grid grid-cols-3 w-full gap-2 p-2"),o(e,"class","bg-gray-950 ring-2 ring-zinc-500 p-2 rounded-md w-[90vw] text-center relative")},m(v,N){B(v,e,N),a(e,n),a(e,l),a(e,s),a(s,i),T.m(i,null),a(s,d),a(s,u),a(u,c),a(c,p),a(c,k),a(c,f),a(f,b),a(u,x),a(u,E),a(E,q),a(u,D),a(u,y),a(y,A),_.m(A,null),a(y,ee),C&&C.m(y,null),H||(I=re(A,"click",t[6]),H=!0)},p(v,[N]){N&8&&_e(n,"width",v[3]/100*90+"vw"),N&4&&r!==(r=!v[2])&&(n.hidden=r),w===(w=z(v))&&T?T.p(v,N):(T.d(1),T=w(v),T&&(T.c(),T.m(i,null))),N&1&&m!==(m=v[0].name+"")&&W(p,m),N&1&&$!==($=v[0].external_urls.spotify)&&o(c,"href",$),N&1&&M!==(M=v[0].description+"")&&W(q,M),j!==(j=g(v))&&(_.d(1),_=j(v),_&&(_.c(),_.m(A,null))),N&6&&L!==(L=v[2]||v[1].length>0)&&(A.disabled=L),v[1].length>0&&!v[2]?C?C.p(v,N):(C=Ue(v),C.c(),C.m(y,null)):C&&(C.d(1),C=null)},i:P,o:P,d(v){v&&O(e),T.d(),_.d(),C&&C.d(),H=!1,I()}}}function gt(t,e,n){let r,l=[],{track:s}=e,i=!1,d=ct(0,{duration:100,easing:it});ve(t,d,m=>n(3,r=m));const u=()=>{l.forEach((m,p)=>{const k=URL.createObjectURL(m),f=document.createElement("a");f.href=k,f.download=`${s.name}-${p+1}.mp3`,f.click()})},c=()=>{n(2,i=!0);const m=s.external_urls.spotify,k=new URL(m).pathname.split("/")[2];let f=0;d.set(25,{duration:1e4}),ce.getPlaylistInfo(k).then(b=>{f=b.tracks.total,ne(d,r=25,r);const $=f*20+.001;f>20&&alert(`There are ${f} tracks in the playlist. It will take about ${$/60} minutes`),d.set(50,{duration:$*1e3}),ce.getDownloadPlaylist(m).then(async x=>{ne(d,r=50,r),d.set(75,{duration:1e4});for(let E=0;E<f;E++){let[M,q]=await ce.getStreamPlaylist(x.data.unique_code);if(ne(d,r=75+E/f*25,r),!M){alert("something went wrong");return}n(1,l=[...l,q])}n(2,i=!1)})})};return t.$$set=m=>{"track"in m&&n(0,s=m.track)},[s,l,i,r,d,u,c]}class mt extends he{constructor(e){super(),pe(this,e,gt,ht,se,{track:0})}}const ae=Re({loggedIn:!1,user:{},playlists:{}});function Oe(t,e,n){const r=t.slice();return r[1]=e[n],r}function _t(t){let e,n;return{c(){e=V("svg"),n=V("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width","1.5"),o(e,"stroke","currentColor"),o(e,"class","w-[10vh] h-[10vh] rounded-full ring-aodBg ring-4")},m(r,l){B(r,e,l),a(e,n)},p:P,d(r){r&&O(e)}}}function wt(t){let e,n,r;return{c(){e=h("img"),ue(e.src,n=t[0].user.images[1].url)||o(e,"src",n),o(e,"alt",r=`${t[0].user.display_name}'s profile picture`),o(e,"class","rounded-full h-[10vh] ring-aodBg ring-4")},m(l,s){B(l,e,s)},p(l,s){s&1&&!ue(e.src,n=l[0].user.images[1].url)&&o(e,"src",n),s&1&&r!==(r=`${l[0].user.display_name}'s profile picture`)&&o(e,"alt",r)},d(l){l&&O(e)}}}function Se(t){let e,n;return e=new mt({props:{track:t[1]}}),{c(){$e(e.$$.fragment)},m(r,l){fe(e,r,l),n=!0},p(r,l){const s={};l&1&&(s.track=r[1]),e.$set(s)},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){de(e,r)}}}function bt(t){let e,n,r,l,s,i=t[0].user.display_name+"",d,u,c,m=t[0].user.followers.total+"",p,k,f=t[0].playlists.total+"",b,$,x,E,M=t[0].user.id+"",q,D,y,A,L;function ee(g,j){return g[0].user.images.length==2?wt:_t}let H=ee(t),I=H(t),z=Ce(t[0].playlists.items),w=[];for(let g=0;g<z.length;g+=1)w[g]=Se(Oe(t,z,g));const T=g=>J(w[g],1,1,()=>{w[g]=null});return{c(){e=h("div"),n=h("div"),I.c(),r=U(),l=h("div"),s=h("p"),d=S(i),u=U(),c=h("p"),p=S(m),k=S(" followers, "),b=S(f),$=S(" playlists"),x=U(),E=h("p"),q=S(M),D=U(),y=h("div"),A=h("div");for(let g=0;g<w.length;g+=1)w[g].c();o(s,"class","font-semibold"),_e(s,"text-shadow","4px 3px 8px rgba(0,0,0,1)"),o(c,"class","text-xs"),o(E,"class","text-xs"),o(l,"class","flex flex-col justify-center items-start"),o(n,"class","flex flex-row justify-center items-center h-[15vh] space-x-4 bg-gray-500 w-[90vw] rounded-t-xl ring-2 ring-zinc-500 py-5"),o(A,"class","flex flex-col justify-center items-center w-full space-y-2 pb-1"),o(y,"class","h-[65vh] overflow-y-scroll w-[100vw]"),o(e,"class","flex flex-col items-center space-y--2")},m(g,j){B(g,e,j),a(e,n),I.m(n,null),a(n,r),a(n,l),a(l,s),a(s,d),a(l,u),a(l,c),a(c,p),a(c,k),a(c,b),a(c,$),a(l,x),a(l,E),a(E,q),a(e,D),a(e,y),a(y,A);for(let _=0;_<w.length;_+=1)w[_]&&w[_].m(A,null);L=!0},p(g,[j]){if(H===(H=ee(g))&&I?I.p(g,j):(I.d(1),I=H(g),I&&(I.c(),I.m(n,r))),(!L||j&1)&&i!==(i=g[0].user.display_name+"")&&W(d,i),(!L||j&1)&&m!==(m=g[0].user.followers.total+"")&&W(p,m),(!L||j&1)&&f!==(f=g[0].playlists.total+"")&&W(b,f),(!L||j&1)&&M!==(M=g[0].user.id+"")&&W(q,M),j&1){z=Ce(g[0].playlists.items);let _;for(_=0;_<z.length;_+=1){const C=Oe(g,z,_);w[_]?(w[_].p(C,j),R(w[_],1)):(w[_]=Se(C),w[_].c(),R(w[_],1),w[_].m(A,null))}for(ze(),_=z.length;_<w.length;_+=1)T(_);De()}},i(g){if(!L){for(let j=0;j<z.length;j+=1)R(w[j]);L=!0}},o(g){w=w.filter(Boolean);for(let j=0;j<w.length;j+=1)J(w[j]);L=!1},d(g){g&&O(e),I.d(),We(w,g)}}}function yt(t,e,n){let r;return ve(t,ae,l=>n(0,r=l)),console.log(r),[r]}class vt extends he{constructor(e){super(),pe(this,e,yt,bt,se,{})}}function kt(t){let e,n;return e=new vt({}),{c(){$e(e.$$.fragment)},m(r,l){fe(e,r,l),n=!0},p:P,i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){de(e,r)}}}function $t(t){let e,n;return e=new ot({props:{handleUsername:t[1]}}),{c(){$e(e.$$.fragment)},m(r,l){fe(e,r,l),n=!0},p:P,i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){de(e,r)}}}function xt(t){let e;return{c(){e=h("span"),e.textContent="PROD",o(e,"class","rounded-sm p-0.5 bg-blue-600")},m(n,r){B(n,e,r)},d(n){n&&O(e)}}}function jt(t){let e,n,r,l,s,i,d,u,c,m,p,k,f,b;const $=[$t,kt],x=[];function E(y,A){return y[0].loggedIn==!1?0:1}s=E(t),i=x[s]=$[s](t);function M(y,A){return xt}let D=M()(t);return{c(){e=h("main"),n=h("div"),n.innerHTML='<div class="bg-aodPurple shadow-sm shadow-gray-950 rounded-b-md p-2 ml-2 h-full flex flex-col items-center justify-center"><span>reold&#39;s</span></div> <p class="text-3xl">Cartier Manager</p>',r=U(),l=h("div"),i.c(),d=U(),u=h("div"),c=h("p"),D.c(),m=S(`
      Built with ❤️ by
      `),p=h("a"),p.textContent="reold",k=S(`.
      `),f=h("a"),f.textContent="Report an error",o(n,"class","flex flex-row items-center justify-evenly font-bold h-[10vh] pb-2 bg-gray-950 ring-2 ring-zinc-500 shadow-xl"),o(l,"class","w-full flex flex-col items-center justify-center h-[85vh] bg-gradient-to-t from-gray-950 via-aodBg to-aodBg"),o(p,"href","https://github.com/reold"),o(p,"target","_blank"),o(p,"class","text-blue-600"),o(f,"href","https://x.com/redicrafty"),o(f,"target","_blank"),o(f,"class","text-blue-600"),o(u,"class","w-full h-[5vh] bg-gray-950 text-sm flex flex-col items-center justify-center"),o(e,"class","w-screen h-screen text-white text-xl select-none")},m(y,A){B(y,e,A),a(e,n),a(e,r),a(e,l),x[s].m(l,null),a(e,d),a(e,u),a(u,c),D.m(c,null),a(c,m),a(c,p),a(c,k),a(c,f),b=!0},p(y,[A]){let L=s;s=E(y),s===L?x[s].p(y,A):(ze(),J(x[L],1,1,()=>{x[L]=null}),De(),i=x[s],i?i.p(y,A):(i=x[s]=$[s](y),i.c()),R(i,1),i.m(l,null))},i(y){b||(R(i),b=!0)},o(y){J(i),b=!1},d(y){y&&O(e),x[s].d(),D.d()}}}function At(t,e,n){let r;return ve(t,ae,s=>n(0,r=s)),[r,s=>{ce.getUserInfo(s).then(i=>{if(i.success==!1){alert("something went wrong!");return}ne(ae,r={...i.data},r),ne(ae,r.loggedIn=!0,r),navigator.clipboard.writeText(JSON.stringify(r))})}]}class Et extends he{constructor(e){super(),pe(this,e,At,jt,se,{})}}new Et({target:document.getElementById("app")});
