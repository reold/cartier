var at=Object.defineProperty;var ct=(t,e,n)=>e in t?at(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Se=(t,e,n)=>(ct(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function U(){}const ut=t=>t;function Ie(t,e){for(const n in e)t[n]=e[n];return t}function Ye(t){return t()}function Oe(){return Object.create(null)}function se(t){t.forEach(Ye)}function Ge(t){return typeof t=="function"}function ie(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let $e;function pe(t,e){return t===e?!0:($e||($e=document.createElement("a")),$e.href=e,t===$e.href)}function ft(t){return Object.keys(t).length===0}function dt(t,...e){if(t==null){for(const r of e)r(void 0);return U}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Le(t,e,n){t.$$.on_destroy.push(dt(e,n))}function pt(t,e,n,r){if(t){const l=Je(t,e,n,r);return t[0](l)}}function Je(t,e,n,r){return t[1]&&r?Ie(n.ctx.slice(),t[1](r(e))):n.ctx}function gt(t,e,n,r){if(t[2]&&r){const l=t[2](r(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],a=Math.max(e.dirty.length,l.length);for(let f=0;f<a;f+=1)s[f]=e.dirty[f]|l[f];return s}return e.dirty|l}return e.dirty}function mt(t,e,n,r,l,s){if(l){const a=Je(e,n,r,s);t.p(a,l)}}function ht(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function J(t,e,n){return t.set(n),e}const Qe=typeof window<"u";let wt=Qe?()=>window.performance.now():()=>Date.now(),Xe=Qe?t=>requestAnimationFrame(t):U;const fe=new Set;function et(t){fe.forEach(e=>{e.c(t)||(fe.delete(e),e.f())}),fe.size!==0&&Xe(et)}function _t(t){let e;return fe.size===0&&Xe(et),{promise:new Promise(n=>{fe.add(e={c:t,f:n})}),abort(){fe.delete(e)}}}function c(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function tt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function V(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function O(t){return document.createTextNode(t)}function j(){return O(" ")}function nt(){return O("")}function ee(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function i(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function vt(t){return Array.from(t.childNodes)}function ne(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ue(t,e){t.value=e??""}function ge(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function He(t,e,n){t.classList.toggle(e,!!n)}let ke;function ve(t){ke=t}function bt(){if(!ke)throw new Error("Function called outside component initialization");return ke}function rt(t){bt().$$.on_mount.push(t)}const ue=[],Me=[];let de=[];const qe=[],kt=Promise.resolve();let Ee=!1;function yt(){Ee||(Ee=!0,kt.then(lt))}function Pe(t){de.push(t)}const Ae=new Set;let ae=0;function lt(){if(ae!==0)return;const t=ke;do{try{for(;ae<ue.length;){const e=ue[ae];ae++,ve(e),xt(e.$$)}}catch(e){throw ue.length=0,ae=0,e}for(ve(null),ue.length=0,ae=0;Me.length;)Me.pop()();for(let e=0;e<de.length;e+=1){const n=de[e];Ae.has(n)||(Ae.add(n),n())}de.length=0}while(ue.length);for(;qe.length;)qe.pop()();Ee=!1,Ae.clear(),ve(t)}function xt(t){if(t.fragment!==null){t.update(),se(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Pe)}}function $t(t){const e=[],n=[];de.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),de=e}const je=new Set;let le;function st(){le={r:0,c:[],p:le}}function it(){le.r||se(le.c),le=le.p}function W(t,e){t&&t.i&&(je.delete(t),t.i(e))}function Q(t,e,n,r){if(t&&t.o){if(je.has(t))return;je.add(t),le.c.push(()=>{je.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Ce(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ye(t){t&&t.c()}function me(t,e,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),Pe(()=>{const s=t.$$.on_mount.map(Ye).filter(Ge);t.$$.on_destroy?t.$$.on_destroy.push(...s):se(s),t.$$.on_mount=[]}),l.forEach(Pe)}function he(t,e){const n=t.$$;n.fragment!==null&&($t(n.after_update),se(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jt(t,e){t.$$.dirty[0]===-1&&(ue.push(t),yt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function we(t,e,n,r,l,s,a=null,f=[-1]){const u=ke;ve(t);const o=t.$$={fragment:null,ctx:[],props:s,update:U,not_equal:l,bound:Oe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Oe(),dirty:f,skip_bound:!1,root:e.target||u.$$.root};a&&a(o.root);let d=!1;if(o.ctx=n?n(t,e.props||{},(g,m,..._)=>{const h=_.length?_[0]:m;return o.ctx&&l(o.ctx[g],o.ctx[g]=h)&&(!o.skip_bound&&o.bound[g]&&o.bound[g](h),d&&jt(t,g)),m}):[],o.update(),d=!0,se(o.before_update),o.fragment=r?r(o.ctx):!1,e.target){if(e.hydrate){const g=vt(e.target);o.fragment&&o.fragment.l(g),g.forEach(w)}else o.fragment&&o.fragment.c();e.intro&&W(t.$$.fragment),me(t,e.target,e.anchor),lt()}ve(u)}class _e{constructor(){Se(this,"$$");Se(this,"$$set")}$destroy(){he(this,1),this.$destroy=U}$on(e,n){if(!Ge(n))return U;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!ft(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Mt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Mt);window["cartier-server-url"]="https://reold-cartier.glitch.me";const te={getRoot:async()=>await(await fetch(`${window["cartier-server-url"]}/`)).json(),getUserInfo:async t=>await(await fetch(`${window["cartier-server-url"]}/user?username=${t}`)).json(),getPlaylistInfo:async t=>await(await fetch(`${window["cartier-server-url"]}/playlist?id=${t}`)).json(),getDownloadPlaylist:async t=>await(await fetch(`${window["cartier-server-url"]}/download?link=${t}`)).json(),getDownloadStatus:async t=>await(await fetch(`${window["cartier-server-url"]}/status?key=${t}`)).json(),getDownloadTrack:async(t,e="",n=!1)=>await(await fetch(`${window["cartier-server-url"]}/track?link=${t}&key=${e}&create=${n}`)).json(),getStreamPlaylist:async t=>{let e=await fetch(`${window["cartier-server-url"]}/stream?key=${t}`);return[await e.ok,await e.blob()]}},ce=[];function ze(t,e=U){let n;const r=new Set;function l(f){if(ie(t,f)&&(t=f,n)){const u=!ce.length;for(const o of r)o[1](),ce.push(o,t);if(u){for(let o=0;o<ce.length;o+=2)ce[o][0](ce[o+1]);ce.length=0}}}function s(f){l(f(t))}function a(f,u=U){const o=[f,u];return r.add(o),r.size===1&&(n=e(l,s)||U),f(t),()=>{r.delete(o),r.size===0&&n&&(n(),n=null)}}return{set:l,update:s,subscribe:a}}function Ct(t){let e,n,r;const l=t[2].default,s=pt(l,t,t[1],null);return{c(){e=p("div"),n=p("div"),s&&s.c(),i(n,"class","bg-gray-950 p-2 rounded-md ring-1 ring-zinc-500 max-w-[90vw]"),i(e,"class","absolute top-0 left-0 w-full h-full backdrop-blur-md flex flex-col items-center justify-center text-center text-xs"),ge(e,"visibility",t[0]?"hidden":"visible")},m(a,f){y(a,e,f),c(e,n),s&&s.m(n,null),r=!0},p(a,[f]){s&&s.p&&(!r||f&2)&&mt(s,l,a,a[1],r?gt(l,a[1],f,null):ht(a[1]),null),(!r||f&1)&&ge(e,"visibility",a[0]?"hidden":"visible")},i(a){r||(W(s,a),r=!0)},o(a){Q(s,a),r=!1},d(a){a&&w(e),s&&s.d(a)}}}function Lt(t,e,n){let{$$slots:r={},$$scope:l}=e,{hidden:s=!1}=e;return t.$$set=a=>{"hidden"in a&&n(0,s=a.hidden),"$$scope"in a&&n(1,l=a.$$scope)},[s,l,r]}class St extends _e{constructor(e){super(),we(this,e,Lt,Ct,ie,{hidden:0})}}function De(t){let e,n;return{c(){e=V("svg"),n=V("path"),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","1.5"),i(e,"stroke","currentColor"),i(e,"class","aspect-square w-[1.2em] animate-spin inline")},m(r,l){y(r,e,l),c(e,n)},d(r){r&&w(e)}}}function At(t){let e,n,r,l,s,a,f=t[0].step+"",u,o=t[0].is&&De();return{c(){e=p("h1"),e.textContent="Waking up servers!",n=j(),r=p("p"),r.textContent=`Our servers take a little break every 5 minutes when things quiet down.
    We're in the process of waking them up for you. It's automatic, so no need
    to stress!`,l=j(),s=p("p"),o&&o.c(),a=j(),u=O(f),i(e,"class","text-xl"),i(r,"class","text-xs text-gray-500 inline"),i(s,"class","inline"),He(s,"text-green-500",!t[0].is)},m(d,g){y(d,e,g),y(d,n,g),y(d,r,g),y(d,l,g),y(d,s,g),o&&o.m(s,null),c(s,a),c(s,u)},p(d,g){d[0].is?o||(o=De(),o.c(),o.m(s,a)):o&&(o.d(1),o=null),g&1&&f!==(f=d[0].step+"")&&ne(u,f),g&1&&He(s,"text-green-500",!d[0].is)},d(d){d&&(w(e),w(n),w(r),w(l),w(s)),o&&o.d()}}}function It(t){let e,n;return e=new St({props:{hidden:!t[0].is,$$slots:{default:[At]},$$scope:{ctx:t}}}),{c(){ye(e.$$.fragment)},m(r,l){me(e,r,l),n=!0},p(r,[l]){const s={};l&1&&(s.hidden=!r[0].is),l&5&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){Q(e.$$.fragment,r),n=!1},d(r){he(e,r)}}}function Et(t,e,n){let r;const l=ze({step:"trying to make contact",is:!0});return Le(t,l,s=>n(0,r=s)),rt(()=>{J(l,r.step="waking up servers",r),te.getRoot().then(s=>{J(l,r.is=!1,r),J(l,r.step="servers are running!",r)}).catch(s=>{Y(`unable to reach servers. err: ${s}`),J(l,r.step="servers unreachable (reload?)",r)})}),[r,l]}class Pt extends _e{constructor(e){super(),we(this,e,Et,It,ie,{})}}function Bt(t){let e,n,r,l,s,a,f,u,o,d,g,m,_,h,$,I,L,P,S,E,B,T,D;return e=new Pt({}),{c(){ye(e.$$.fragment),n=j(),r=p("div"),l=p("p"),l.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 inline"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"></path></svg>
    fill-in to continue`,s=j(),a=p("div"),f=p("div"),u=p("input"),o=j(),d=p("button"),d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 inline rounded-full"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg>',g=j(),m=p("p"),m.innerHTML='you can copy your <svg xmlns="http://www.w3.org/2000/svg" class="w-[1em] inline" viewBox="-33.4974 -55.829 290.3108 334.974"><path d="M177.707 98.987c-35.992-21.375-95.36-23.34-129.719-12.912-5.519 1.674-11.353-1.44-13.024-6.958-1.672-5.521 1.439-11.352 6.96-13.029 39.443-11.972 105.008-9.66 146.443 14.936 4.964 2.947 6.59 9.356 3.649 14.31-2.944 4.963-9.359 6.6-14.31 3.653m-1.178 31.658c-2.525 4.098-7.883 5.383-11.975 2.867-30.005-18.444-75.762-23.788-111.262-13.012-4.603 1.39-9.466-1.204-10.864-5.8a8.717 8.717 0 015.805-10.856c40.553-12.307 90.968-6.347 125.432 14.833 4.092 2.52 5.38 7.88 2.864 11.968m-13.663 30.404a6.954 6.954 0 01-9.569 2.316c-26.22-16.025-59.223-19.644-98.09-10.766a6.955 6.955 0 01-8.331-5.232 6.95 6.95 0 015.233-8.334c42.533-9.722 79.017-5.538 108.448 12.446a6.96 6.96 0 012.31 9.57M111.656 0C49.992 0 0 49.99 0 111.656c0 61.672 49.992 111.66 111.657 111.66 61.668 0 111.659-49.988 111.659-111.66C223.316 49.991 173.326 0 111.657 0" fill="#1DB954"></path></svg>Spotify profile link from your account page',_=j(),h=p("div"),$=p("label"),I=p("input"),L=j(),P=p("span"),P.textContent="persist",S=j(),E=p("button"),E.textContent="continue",i(l,"class","text-2xl"),i(u,"type","text"),i(u,"class","w-full"),i(u,"placeholder","type Spotify profile link"),i(u,"autocomplete","url"),i(u,"aria-label","type spotify profile link"),i(d,"class","bg-zinc-500"),i(d,"aria-label","paste from clipboard"),i(f,"class","w-full flex flex-row items-center justify-center space-x-2"),i(m,"class","text-xs"),i(a,"class","flex flex-col items-center justify-center"),i(I,"type","checkbox"),i(I,"class","inline"),i(P,"class","align-middle"),i($,"for","persisting userid"),i($,"class","text-base flex flex-row space-x-2 bg-gray-950 p-3 rounded-md"),i(E,"class","hover:scale-110"),i(h,"class","flex flex-row items-center justify-center space-x-3"),i(r,"class","flex flex-col items-center text-center justify-center bg-zinc-950/50 ring-1 ring-zinc-500 rounded-md w-11/12 space-y-7 p-3")},m(v,z){me(e,v,z),y(v,n,z),y(v,r,z),c(r,l),c(r,s),c(r,a),c(a,f),c(f,u),Ue(u,t[0]),c(f,o),c(f,d),c(a,g),c(a,m),c(r,_),c(r,h),c(h,$),c($,I),I.checked=t[1],c($,L),c($,P),c(h,S),c(h,E),B=!0,T||(D=[ee(u,"input",t[5]),ee(d,"click",t[2]),ee(I,"change",t[6]),ee(E,"click",t[3])],T=!0)},p(v,[z]){z&1&&u.value!==v[0]&&Ue(u,v[0]),z&2&&(I.checked=v[1])},i(v){B||(W(e.$$.fragment,v),B=!0)},o(v){Q(e.$$.fragment,v),B=!1},d(v){v&&(w(n),w(r)),he(e,v),T=!1,se(D)}}}function Tt(t,e,n){rt(()=>{const d=localStorage.getItem("cartier-userid");d&&(Y("performing auto-login",!0),r(d))});let{handleUsername:r}=e,l="",s=!0;const a=async()=>{navigator.clipboard.readText&&n(0,l=await navigator.clipboard.readText())},f=()=>{let d;try{d=new URL(l)}catch{n(0,l="");return}const g=d.pathname.split("/")[2];s&&(localStorage.setItem("cartier-userid",g),Y("login information saved!")),r(g)};function u(){l=this.value,n(0,l)}function o(){s=this.checked,n(1,s)}return t.$$set=d=>{"handleUsername"in d&&n(4,r=d.handleUsername)},[l,s,a,f,r,u,o]}class zt extends _e{constructor(e){super(),we(this,e,Tt,Bt,ie,{handleUsername:4})}}function Ne(t){return Object.prototype.toString.call(t)==="[object Date]"}function Ot(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Be(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((l,s)=>Be(t[s],l));return l=>r.map(s=>s(l))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Ne(t)&&Ne(e)){t=t.getTime(),e=e.getTime();const s=e-t;return a=>new Date(t+a*s)}const r=Object.keys(e),l={};return r.forEach(s=>{l[s]=Be(t[s],e[s])}),s=>{const a={};return r.forEach(f=>{a[f]=l[f](s)}),a}}if(n==="number"){const r=e-t;return l=>t+l*r}throw new Error(`Cannot interpolate ${n} values`)}function Ut(t,e={}){const n=ze(t);let r,l=t;function s(a,f){if(t==null)return n.set(t=a),Promise.resolve();l=a;let u=r,o=!1,{delay:d=0,duration:g=400,easing:m=ut,interpolate:_=Be}=Ie(Ie({},e),f);if(g===0)return u&&(u.abort(),u=null),n.set(t=l),Promise.resolve();const h=wt()+d;let $;return r=_t(I=>{if(I<h)return!0;o||($=_(t,a),typeof g=="function"&&(g=g(t,a)),o=!0),u&&(u.abort(),u=null);const L=I-h;return L>g?(n.set(t=a),!1):(n.set(t=$(m(L/g))),!0)}),r.promise}return{set:s,update:(a,f)=>s(a(l,t),f),subscribe:n.subscribe}}function Re(t,e,n){const r=t.slice();return r[0]=e[n],r}function Ht(t){let e,n;return{c(){e=V("svg"),n=V("path"),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","1.5"),i(e,"stroke","currentColor"),i(e,"class","w-[10vh] h-[10vh]")},m(r,l){y(r,e,l),c(e,n)},p:U,d(r){r&&w(e)}}}function qt(t){let e,n;return{c(){e=p("img"),i(e,"loading","lazy"),pe(e.src,n=t[0].images[0].url)||i(e,"src",n),i(e,"class","rounded-full max-h-[10vh] shadow-black shadow-lg ring-1 ring-black"),i(e,"alt","playlist's cover")},m(r,l){y(r,e,l)},p(r,l){l&1&&!pe(e.src,n=r[0].images[0].url)&&i(e,"src",n)},d(r){r&&w(e)}}}function Dt(t){let e,n;return{c(){e=V("svg"),n=V("path"),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","m19.5 8.25-7.5 7.5-7.5-7.5"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","4"),i(e,"stroke","currentColor"),i(e,"class","w-[1.2em] text-xs aspect-square")},m(r,l){y(r,e,l),c(e,n)},d(r){r&&w(e)}}}function Nt(t){let e,n;return{c(){e=V("svg"),n=V("path"),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","m4.5 15.75 7.5-7.5 7.5 7.5"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","3"),i(e,"stroke","currentColor"),i(e,"class","w-[1.2em] aspect-square text-xs")},m(r,l){y(r,e,l),c(e,n)},d(r){r&&w(e)}}}function Rt(t){let e;return{c(){e=O("download")},m(n,r){y(n,e,r)},p:U,d(n){n&&w(e)}}}function Vt(t){let e;return{c(){e=O("downloaded")},m(n,r){y(n,e,r)},p:U,d(n){n&&w(e)}}}function Ft(t){let e,n,r,l;function s(u,o){return u[3].stage=="downloading"?Wt:Zt}let a=s(t),f=a(t);return{c(){e=V("svg"),n=V("path"),r=j(),f.c(),l=nt(),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","1.5"),i(e,"stroke","currentColor"),i(e,"class","w-4 h-4 inline animate-spin")},m(u,o){y(u,e,o),c(e,n),y(u,r,o),f.m(u,o),y(u,l,o)},p(u,o){a!==(a=s(u))&&(f.d(1),f=a(u),f&&(f.c(),f.m(l.parentNode,l)))},d(u){u&&(w(e),w(r),w(l)),f.d(u)}}}function Zt(t){let e;return{c(){e=O("converting")},m(n,r){y(n,e,r)},d(n){n&&w(e)}}}function Wt(t){let e;return{c(){e=O("downloading")},m(n,r){y(n,e,r)},d(n){n&&w(e)}}}function Ve(t){let e,n,r;return{c(){e=p("button"),e.textContent="save",i(e,"class","text-xs p-1")},m(l,s){y(l,e,s),n||(r=ee(e,"click",t[8]),n=!0)},p:U,d(l){l&&w(e),n=!1,r()}}}function Fe(t){let e,n,r,l=t[1].tracks.total+"",s,a,f,u=Ce(t[1].tracks.items),o=[];for(let d=0;d<u.length;d+=1)o[d]=Ze(Re(t,u,d));return{c(){e=p("div"),n=p("div"),r=p("div"),s=O(l),a=O(" tracks"),f=j();for(let d=0;d<o.length;d+=1)o[d].c();i(r,"class","bg-zinc-950 rounded-full text-white p-2"),i(n,"class","overflow-hidden overflow-x-scroll flex flex-row items-center space-x-2 p-1 relative"),i(e,"class","col-span-4 bg-zinc-500/10 rounded-md mx-2 text-xs flex flex-row justify-center")},m(d,g){y(d,e,g),c(e,n),c(n,r),c(r,s),c(r,a),c(n,f);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(n,null)},p(d,g){if(g&2&&l!==(l=d[1].tracks.total+"")&&ne(s,l),g&10){u=Ce(d[1].tracks.items);let m;for(m=0;m<u.length;m+=1){const _=Re(d,u,m);o[m]?o[m].p(_,g):(o[m]=Ze(_),o[m].c(),o[m].m(n,null))}for(;m<o.length;m+=1)o[m].d(1);o.length=u.length}},d(d){d&&w(e),tt(o,d)}}}function Kt(t){let e;return{c(){e=p("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[5vh] h-[5vh]"><path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"></path></svg> ',i(e,"class","ring-1 ring-black shadow-md shadow-black rounded-full")},m(n,r){y(n,e,r)},p:U,d(n){n&&w(e)}}}function Yt(t){let e,n,r;return{c(){e=p("img"),i(e,"loading","lazy"),pe(e.src,n=t[0].track.album.images[0].url)||i(e,"src",n),i(e,"class",r="aspect-square h-[5vh] rounded-full ring-1 ring-black shadow-sm shadow-black will-change-auto "+(t[3].is?(t[3].statuses[t[0].track.id]=="downloading"?" rotating-image":"")+(t[3].statuses[t[0].track.id]=="ready"?" shadow-green-500 ring-green-500":"")+(t[3].statuses[t[0].track.id]=="failed"?" shadow-red-500 ring-red-500":""):"")),i(e,"alt","album")},m(l,s){y(l,e,s)},p(l,s){s&2&&!pe(e.src,n=l[0].track.album.images[0].url)&&i(e,"src",n),s&10&&r!==(r="aspect-square h-[5vh] rounded-full ring-1 ring-black shadow-sm shadow-black will-change-auto "+(l[3].is?(l[3].statuses[l[0].track.id]=="downloading"?" rotating-image":"")+(l[3].statuses[l[0].track.id]=="ready"?" shadow-green-500 ring-green-500":"")+(l[3].statuses[l[0].track.id]=="failed"?" shadow-red-500 ring-red-500":""):""))&&i(e,"class",r)},d(l){l&&w(e)}}}function Ze(t){let e;function n(s,a){return s[0].track&&s[0].track.album.images.length>0?Yt:Kt}let r=n(t),l=r(t);return{c(){l.c(),e=nt()},m(s,a){l.m(s,a),y(s,e,a)},p(s,a){r===(r=n(s))&&l?l.p(s,a):(l.d(1),l=r(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){s&&w(e),l.d(s)}}}function Gt(t){let e,n,r,l,s,a,f,u,o,d=t[0].name+"",g,m,_,h,$,I,L,P=t[0].description+"",S,E,B,T,D,v,z,G,oe,K=t[4]&&Object.keys(t[1]).length>0,A,N;function X(x,q){return x[0].images.length>0?qt:Ht}let re=X(t),R=re(t);function F(x,q){return x[4]?Nt:Dt}let Z=F(t),M=Z(t);function xe(x,q){return x[3].is?Ft:x[2].length>0?Vt:Rt}let b=xe(t),C=b(t),k=t[2].length>0&&!t[3].is&&Ve(t),H=K&&Fe(t);return{c(){e=p("div"),n=p("div"),l=j(),s=p("div"),a=p("div"),R.c(),f=j(),u=p("div"),o=p("a"),g=O(d),m=j(),_=V("svg"),h=V("path"),I=j(),L=p("p"),S=O(P),E=j(),B=p("div"),T=p("button"),M.c(),D=j(),v=p("button"),C.c(),G=j(),k&&k.c(),oe=j(),H&&H.c(),i(n,"class","h-1 absolute backdrop-opacity-50 bg-aodPurple rounded-sm left-0 bottom-0 z-50"),ge(n,"width",t[5]/100*90+"vw"),n.hidden=r=!t[3].is,i(a,"class","col-span-1 flex flex-col items-center justify-center"),i(h,"stroke-linecap","round"),i(h,"stroke-linejoin","round"),i(h,"d","M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),i(_,"xmlns","http://www.w3.org/2000/svg"),i(_,"fill","none"),i(_,"viewBox","0 0 24 24"),i(_,"stroke-width","1.5"),i(_,"stroke","currentColor"),i(_,"class","w-4 h-4 inline"),i(o,"class","hover:scale-110 duration-75 text-left line-clamp-1"),i(o,"href",$=t[0].external_urls.spotify),i(o,"target","_blank"),i(L,"class","text-xs line-clamp-1"),i(T,"class","bg-transparent text-white ring-1 p-1 ring-zinc-500 hover:scale-110"),i(T,"aria-label","show more"),i(v,"class","text-xs bg-aodPurple p-1"),v.disabled=z=t[3].is||t[2].length>0,i(B,"class","flex flex-row space-x-2"),i(u,"class","col-span-3 flex flex-col justify-center items-start"),i(s,"class","grid grid-cols-4 w-full gap-1"),i(e,"class","bg-gray-950/50 ring-1 ring-zinc-500 py-2 rounded-md w-[90vw] text-center relative transition-all duration-150")},m(x,q){y(x,e,q),c(e,n),c(e,l),c(e,s),c(s,a),R.m(a,null),c(s,f),c(s,u),c(u,o),c(o,g),c(o,m),c(o,_),c(_,h),c(u,I),c(u,L),c(L,S),c(u,E),c(u,B),c(B,T),M.m(T,null),c(B,D),c(B,v),C.m(v,null),c(B,G),k&&k.m(B,null),c(s,oe),H&&H.m(s,null),A||(N=[ee(T,"click",t[7]),ee(v,"click",t[9])],A=!0)},p(x,[q]){q&32&&ge(n,"width",x[5]/100*90+"vw"),q&8&&r!==(r=!x[3].is)&&(n.hidden=r),re===(re=X(x))&&R?R.p(x,q):(R.d(1),R=re(x),R&&(R.c(),R.m(a,null))),q&1&&d!==(d=x[0].name+"")&&ne(g,d),q&1&&$!==($=x[0].external_urls.spotify)&&i(o,"href",$),q&1&&P!==(P=x[0].description+"")&&ne(S,P),Z!==(Z=F(x))&&(M.d(1),M=Z(x),M&&(M.c(),M.m(T,null))),b===(b=xe(x))&&C?C.p(x,q):(C.d(1),C=b(x),C&&(C.c(),C.m(v,null))),q&12&&z!==(z=x[3].is||x[2].length>0)&&(v.disabled=z),x[2].length>0&&!x[3].is?k?k.p(x,q):(k=Ve(x),k.c(),k.m(B,null)):k&&(k.d(1),k=null),q&18&&(K=x[4]&&Object.keys(x[1]).length>0),K?H?H.p(x,q):(H=Fe(x),H.c(),H.m(s,null)):H&&(H.d(1),H=null)},i:U,o:U,d(x){x&&w(e),R.d(),M.d(),C.d(),k&&k.d(),H&&H.d(),A=!1,se(N)}}}function Jt(t,e,n){let r,l={},s=[],{track:a}=e;const f={is:!1,statuses:{},stage:""};let u=!1,o=Ut(0,{duration:1e3,easing:Ot});Le(t,o,h=>n(5,r=h));const d=()=>{u==!1?(Object.keys(l).length==0&&g(),n(4,u=!0)):n(4,u=!1)},g=async()=>{const h=a.external_urls.spotify,I=new URL(h).pathname.split("/")[2];Y("loading playlist info",!0,1);let L=await te.getPlaylistInfo(I);n(1,l=L)},m=()=>{s.forEach((h,$)=>{const I=URL.createObjectURL(h),L=document.createElement("a");L.href=I,L.download=`${a.name}-${$+1}.mp3`,L.click()})},_=async()=>{if(Object.keys(l).length==0&&await g(),!l.tracks)return;if(l.tracks.items.length==0){Y("cannot download empty playlist");return}n(3,f.is=!0,f),n(3,f.stage="converting",f),o.set(0,{duration:1}),o.set(10,{duration:1e4});let h=l.tracks.items[0].track;te.getDownloadTrack(h.external_urls.spotify,"",!0).then(async $=>{if($.success==!1){J(o,r=0,r),n(3,f.is=!1,f),Y(`serverErr: ${$.info}`);return}const I=$.data.key;n(3,f.statuses[h.id]="downloading",f);for(const[P,{track:S}]of[...l.tracks.items].splice(1).entries())S&&n(3,f.statuses[S.id]="downloading",f),(await te.getDownloadTrack(S.external_urls.spotify,I,!1)).success==!1&&Y(`failed downloading track (${S.name})`);await o.set(10);const L=setInterval(async()=>{let P=await te.getDownloadStatus(I);const S=P.data.filter(E=>E.status!=="downloading");if(P.data.forEach(E=>{n(3,f.statuses[E.id]=E.status,f)}),J(o,r=S.length/P.data.length*40+10,r),S.length==P.data.length){n(3,f.stage="downloading",f),clearInterval(L);for(let E=0;E<S.length;E++){let[B,T]=await te.getStreamPlaylist(I);if(!B){Y(`failed downloading a track (in "${a.name}")`);continue}n(2,s=[...s,T]),J(o,r=(E+1)/S.length*50+50,r)}await o.set(100,{duration:500}),n(3,f.is=!1,f)}},5e3)})};return t.$$set=h=>{"track"in h&&n(0,a=h.track)},[a,l,s,f,u,r,o,d,m,_]}class Qt extends _e{constructor(e){super(),we(this,e,Jt,Gt,ie,{track:0})}}const be=ze({loggedIn:!1,user:{},playlists:{}});function We(t,e,n){const r=t.slice();return r[2]=e[n],r}function Xt(t){let e,n;return{c(){e=V("svg"),n=V("path"),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","1.5"),i(e,"stroke","currentColor"),i(e,"class","w-[10vh] h-[10vh] rounded-full ring-aodBg ring-2")},m(r,l){y(r,e,l),c(e,n)},p:U,d(r){r&&w(e)}}}function en(t){let e,n,r;return{c(){e=p("img"),i(e,"loading","lazy"),pe(e.src,n=t[0].user.images[1].url)||i(e,"src",n),i(e,"alt",r=`${t[0].user.display_name}'s profile picture`),i(e,"class","rounded-full h-[10vh] ring-aodBg ring-1 shadow-sm shadow-black aspect-square")},m(l,s){y(l,e,s)},p(l,s){s&1&&!pe(e.src,n=l[0].user.images[1].url)&&i(e,"src",n),s&1&&r!==(r=`${l[0].user.display_name}'s profile picture`)&&i(e,"alt",r)},d(l){l&&w(e)}}}function Ke(t){let e,n;return e=new Qt({props:{track:t[2]}}),{c(){ye(e.$$.fragment)},m(r,l){me(e,r,l),n=!0},p(r,l){const s={};l&1&&(s.track=r[2]),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){Q(e.$$.fragment,r),n=!1},d(r){he(e,r)}}}function tn(t){let e,n,r,l,s,a,f=t[0].user.display_name+"",u,o,d,g=t[0].user.followers.total+"",m,_,h=t[0].playlists.total+"",$,I,L,P,S=t[0].user.id+"",E,B,T,D,v,z,G,oe,K,A,N,X;function re(b,C){return b[0].user.images.length==2?en:Xt}let R=re(t),F=R(t),Z=Ce(t[0].playlists.items),M=[];for(let b=0;b<Z.length;b+=1)M[b]=Ke(We(t,Z,b));const xe=b=>Q(M[b],1,1,()=>{M[b]=null});return{c(){e=p("div"),n=p("div"),r=p("div"),F.c(),l=j(),s=p("div"),a=p("p"),u=O(f),o=j(),d=p("p"),m=O(g),_=O(" followers, "),$=O(h),I=O(" playlists"),L=j(),P=p("p"),E=O(S),B=j(),T=p("div"),D=p("button"),D.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1.5em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"></path></svg>logout',v=j(),z=p("div"),G=p("div");for(let b=0;b<M.length;b+=1)M[b].c();oe=j(),K=p("div"),i(a,"class","font-semibold"),ge(a,"text-shadow","4px 3px 8px rgba(0,0,0,1)"),i(d,"class","text-xs"),i(P,"class","text-xs"),i(s,"class","flex flex-col justify-center items-start"),i(r,"class","flex flex-row items-center justify-center space-x-5"),i(D,"class","text-sm p-0.5 bg-red-500 text-gray-950"),i(D,"aria-label","logout"),i(n,"class","flex flex-row justify-center items-center h-[13vh] space-x-4 bg-gradient-to-t from-gray-950/50 backdrop-blur-sm to-zinc-500 w-[90vw] rounded-t-md ring-1 ring-zinc-500 z-50"),i(G,"class","flex flex-col justify-center items-center w-full space-y-2 pb-1"),i(z,"class","h-[67vh] overflow-y-scroll w-[100vw]"),i(K,"class","backdrop-opacity-100 rounded-full backdrop-blur-sm w-[95vw] h-7 absolute bottom-0 left-auto right-auto"),i(e,"class","flex flex-col items-center -space-y-1")},m(b,C){y(b,e,C),c(e,n),c(n,r),F.m(r,null),c(r,l),c(r,s),c(s,a),c(a,u),c(s,o),c(s,d),c(d,m),c(d,_),c(d,$),c(d,I),c(s,L),c(s,P),c(P,E),c(n,B),c(n,T),c(T,D),c(e,v),c(e,z),c(z,G);for(let k=0;k<M.length;k+=1)M[k]&&M[k].m(G,null);c(e,oe),c(e,K),A=!0,N||(X=ee(D,"click",t[1]),N=!0)},p(b,[C]){if(R===(R=re(b))&&F?F.p(b,C):(F.d(1),F=R(b),F&&(F.c(),F.m(r,l))),(!A||C&1)&&f!==(f=b[0].user.display_name+"")&&ne(u,f),(!A||C&1)&&g!==(g=b[0].user.followers.total+"")&&ne(m,g),(!A||C&1)&&h!==(h=b[0].playlists.total+"")&&ne($,h),(!A||C&1)&&S!==(S=b[0].user.id+"")&&ne(E,S),C&1){Z=Ce(b[0].playlists.items);let k;for(k=0;k<Z.length;k+=1){const H=We(b,Z,k);M[k]?(M[k].p(H,C),W(M[k],1)):(M[k]=Ke(H),M[k].c(),W(M[k],1),M[k].m(G,null))}for(st(),k=Z.length;k<M.length;k+=1)xe(k);it()}},i(b){if(!A){for(let C=0;C<Z.length;C+=1)W(M[C]);A=!0}},o(b){M=M.filter(Boolean);for(let C=0;C<M.length;C+=1)Q(M[C]);A=!1},d(b){b&&w(e),F.d(),tt(M,b),N=!1,X()}}}function nn(t,e,n){let r;return Le(t,be,s=>n(0,r=s)),[r,()=>{localStorage.removeItem("cartier-userid"),J(be,r.loggedIn=!1,r)}]}class rn extends _e{constructor(e){super(),we(this,e,nn,tn,ie,{})}}function ln(t){let e,n;return e=new rn({}),{c(){ye(e.$$.fragment)},m(r,l){me(e,r,l),n=!0},p:U,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){Q(e.$$.fragment,r),n=!1},d(r){he(e,r)}}}function sn(t){let e,n,r,l;return e=new zt({props:{handleUsername:t[1]}}),{c(){ye(e.$$.fragment),n=j(),r=p("details"),r.innerHTML=`<summary class="font-bold mb-2">Cartier Manager: Free Spotify Playlist Downloader</summary> <p class="mb-4">Mobile-friendly, free-to-use Spotify playlist downloader. Share your
          Spotify profile link to effortlessly download all your public
          playlists.</p> <p>Powered by <code>spotify-dl</code> on our servers, Cartier finds and downloads
          songs from YouTube based on Spotify data.</p>`,i(r,"class","text-sm w-11/12")},m(s,a){me(e,s,a),y(s,n,a),y(s,r,a),l=!0},p:U,i(s){l||(W(e.$$.fragment,s),l=!0)},o(s){Q(e.$$.fragment,s),l=!1},d(s){s&&(w(n),w(r)),he(e,s)}}}function on(t){let e;return{c(){e=p("span"),e.textContent="prod",i(e,"class","rounded-sm p-0.5 bg-blue-600")},m(n,r){y(n,e,r)},d(n){n&&w(e)}}}function an(t){let e,n,r,l,s,a,f,u,o,d,g,m,_,h,$,I,L,P,S,E,B,T;const D=[sn,ln],v=[];function z(A,N){return A[0].loggedIn==!1?0:1}o=z(t),d=v[o]=D[o](t);function G(A,N){return on}let K=G()(t);return{c(){e=p("div"),n=j(),r=p("main"),l=p("div"),l.innerHTML='<div class="bg-aodPurple shadow-sm text-gray-950 shadow-gray-950 rounded-md p-2 ml-2 h-11/12 flex flex-col items-center justify-center"><span>reold&#39;s</span></div> <p class="text-3xl">Cartier Manager</p>',s=j(),a=p("div"),f=p("div"),u=j(),d.c(),g=j(),m=p("div"),_=p("p"),K.c(),h=O(`
      built by
      `),$=p("a"),$.textContent="reold",I=O(`.
      `),L=p("button"),L.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"></path></svg>
        use render`,P=j(),S=p("a"),S.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg>
        report error`,i(e,"class","bg-black opacity-75 p-1 rounded-md w-[80vw] max-w-[90vw] z-[1000]"),ge(e,"display","none"),i(l,"class","flex flex-row items-center justify-evenly font-bold h-[10vh] pb-2 bg-gray-950 ring-1 ring-zinc-500 shadow-xl"),i(f,"class","absolute left-0 top-0 w-full flex flex-col items-center justify-center space-y-1 text-xs"),i(a,"class","relative w-full flex flex-col items-center justify-center space-y-2 h-[85vh] bg-gradient-to-t from-gray-950 via-[#203A43] to-gray-950"),i($,"href","https://github.com/reold"),i($,"target","_blank"),i($,"class","text-blue-600"),i(L,"aria-label","use alternative render service servers"),i(L,"class","p-0 bg-transparent text-orange-600 text-xs disabled:animate-pulse"),i(S,"href","https://x.com/redicrafty"),i(S,"target","_blank"),i(S,"class","text-blue-600"),i(m,"class","w-full h-[5vh] bg-gray-950 text-xs flex flex-col items-center justify-center"),i(r,"class","w-screen h-screen text-white text-xl select-none text-center")},m(A,N){y(A,e,N),t[2](e),y(A,n,N),y(A,r,N),c(r,l),c(r,s),c(r,a),c(a,f),t[3](f),c(a,u),v[o].m(a,null),c(r,g),c(r,m),c(m,_),K.m(_,null),c(_,h),c(_,$),c(_,I),c(_,L),c(_,P),c(_,S),E=!0,B||(T=ee(L,"click",t[4]),B=!0)},p(A,[N]){let X=o;o=z(A),o===X?v[o].p(A,N):(st(),Q(v[X],1,1,()=>{v[X]=null}),it(),d=v[o],d?d.p(A,N):(d=v[o]=D[o](A),d.c()),W(d,1),d.m(a,null))},i(A){E||(W(d),E=!0)},o(A){Q(d),E=!1},d(A){A&&(w(e),w(n),w(r)),t[2](null),t[3](null),v[o].d(),K.d(),B=!1,T()}}}let Te,ot;const Y=(t,e=!1,n=3)=>{const r=ot.cloneNode(!0);r.innerHTML=e?`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1.2em] animate-spin inline aspect-square mr-1" > <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" /> </svg>${t}`:t,r.style.display="block",Te.appendChild(r),setTimeout(()=>{Te.removeChild(r)},n*1e3)};function cn(t,e,n){let r;Le(t,be,u=>n(0,r=u));const l=u=>{te.getUserInfo(u).then(o=>{if(o.success==!1){Y("something went wrong!");return}J(be,r={...r,...o.data},r),J(be,r.loggedIn=!0,r)})};function s(u){Me[u?"unshift":"push"](()=>{ot=u})}function a(u){Me[u?"unshift":"push"](()=>{Te=u})}return[r,l,s,a,async({target:u})=>{window["cartier-server-url"]="https://cartier-backend.onrender.com",u&&(u.disabled=!0,u.innerText="using render"),Y("switching & waking alternate (render)server",!0),await te.getRoot(),Y("(render)server running")}]}class un extends _e{constructor(e){super(),we(this,e,cn,an,ie,{})}}new un({target:document.getElementById("app")});
