var Ht=Object.defineProperty;var Et=(t,e,n)=>e in t?Ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Re=(t,e,n)=>(Et(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function V(){}const _t=t=>t;function Ge(t,e){for(const n in e)t[n]=e[n];return t}function wt(t){return t()}function nt(){return Object.create(null)}function de(t){t.forEach(wt)}function Je(t){return typeof t=="function"}function he(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Be;function be(t,e){return t===e?!0:(Be||(Be=document.createElement("a")),Be.href=e,t===Be.href)}function It(t){return Object.keys(t).length===0}function Bt(t,...e){if(t==null){for(const r of e)r(void 0);return V}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ne(t,e,n){t.$$.on_destroy.push(Bt(e,n))}function Ot(t,e,n,r){if(t){const l=vt(t,e,n,r);return t[0](l)}}function vt(t,e,n,r){return t[1]&&r?Ge(n.ctx.slice(),t[1](r(e))):n.ctx}function Ut(t,e,n,r){if(t[2]&&r){const l=t[2](r(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],c=Math.max(e.dirty.length,l.length);for(let o=0;o<c;o+=1)s[o]=e.dirty[o]|l[o];return s}return e.dirty|l}return e.dirty}function Pt(t,e,n,r,l,s){if(l){const c=vt(e,n,r,s);t.p(c,l)}}function zt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function le(t,e,n){return t.set(n),e}function Tt(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const yt=typeof window<"u";let bt=yt?()=>window.performance.now():()=>Date.now(),Qe=yt?t=>requestAnimationFrame(t):V;const ve=new Set;function kt(t){ve.forEach(e=>{e.c(t)||(ve.delete(e),e.f())}),ve.size!==0&&Qe(kt)}function xt(t){let e;return ve.size===0&&Qe(kt),{promise:new Promise(n=>{ve.add(e={c:t,f:n})}),abort(){ve.delete(e)}}}function f(t,e){t.appendChild(e)}function $t(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Zt(t){const e=h("style");return e.textContent="/* empty */",Dt($t(t),e),e.sheet}function Dt(t,e){return f(t.head||t,e),e.sheet}function $(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function Ct(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function Z(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function N(t){return document.createTextNode(t)}function x(){return N(" ")}function Xe(){return N("")}function ie(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function i(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Nt(t){return Array.from(t.childNodes)}function ce(t,e){e=""+e,t.data!==e&&(t.data=e)}function rt(t,e){t.value=e??""}function Pe(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function lt(t,e,n){t.classList.toggle(e,!!n)}function qt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const ze=new Map;let Te=0;function Ft(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Rt(t,e){const n={stylesheet:Zt(e),rules:{}};return ze.set(t,n),n}function st(t,e,n,r,l,s,c,o=0){const u=16.666/r;let a=`{
`;for(let v=0;v<=1;v+=u){const w=e+(n-e)*s(v);a+=v*100+`%{${c(w,1-w)}}
`}const p=a+`100% {${c(n,1-n)}}
}`,d=`__svelte_${Ft(p)}_${o}`,m=$t(t),{stylesheet:y,rules:g}=ze.get(m)||Rt(m,t);g[d]||(g[d]=!0,y.insertRule(`@keyframes ${d} ${p}`,y.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${d} ${r}ms linear ${l}ms 1 both`,Te+=1,d}function Vt(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),l=n.length-r.length;l&&(t.style.animation=r.join(", "),Te-=l,Te||Wt())}function Wt(){Qe(()=>{Te||(ze.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&k(e)}),ze.clear())})}let He;function Se(t){He=t}function Gt(){if(!He)throw new Error("Function called outside component initialization");return He}function Lt(t){Gt().$$.on_mount.push(t)}const we=[],Ze=[];let ye=[];const it=[],Kt=Promise.resolve();let Ke=!1;function Yt(){Ke||(Ke=!0,Kt.then(Mt))}function ue(t){ye.push(t)}const Ve=new Set;let me=0;function Mt(){if(me!==0)return;const t=He;do{try{for(;me<we.length;){const e=we[me];me++,Se(e),Jt(e.$$)}}catch(e){throw we.length=0,me=0,e}for(Se(null),we.length=0,me=0;Ze.length;)Ze.pop()();for(let e=0;e<ye.length;e+=1){const n=ye[e];Ve.has(n)||(Ve.add(n),n())}ye.length=0}while(we.length);for(;it.length;)it.pop()();Ke=!1,Ve.clear(),Se(t)}function Jt(t){if(t.fragment!==null){t.update(),de(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ue)}}function Qt(t){const e=[],n=[];ye.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),ye=e}let je;function Xt(){return je||(je=Promise.resolve(),je.then(()=>{je=null})),je}function We(t,e,n){t.dispatchEvent(qt(`${e?"intro":"outro"}${n}`))}const Oe=new Set;let oe;function qe(){oe={r:0,c:[],p:oe}}function Fe(){oe.r||de(oe.c),oe=oe.p}function q(t,e){t&&t.i&&(Oe.delete(t),t.i(e))}function Q(t,e,n,r){if(t&&t.o){if(Oe.has(t))return;Oe.add(t),oe.c.push(()=>{Oe.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const en={duration:0};function fe(t,e,n,r){let s=e(t,n,{direction:"both"}),c=r?0:1,o=null,u=null,a=null,p;function d(){a&&Vt(t,a)}function m(g,_){const v=g.b-c;return _*=Math.abs(v),{a:c,b:g.b,d:v,duration:_,start:g.start,end:g.start+_,group:g.group}}function y(g){const{delay:_=0,duration:v=300,easing:w=_t,tick:j=V,css:M}=s||en,S={start:bt()+_,b:g};g||(S.group=oe,oe.r+=1),"inert"in t&&(g?p!==void 0&&(t.inert=p):(p=t.inert,t.inert=!0)),o||u?u=S:(M&&(d(),a=st(t,c,g,v,_,w,M)),g&&j(0,1),o=m(S,v),ue(()=>We(t,g,"start")),xt(C=>{if(u&&C>u.start&&(o=m(u,v),u=null,We(t,o.b,"start"),M&&(d(),a=st(t,c,o.b,o.duration,0,w,s.css))),o){if(C>=o.end)j(c=o.b,1-c),We(t,o.b,"end"),u||(o.b?d():--o.group.r||de(o.group.c)),o=null;else if(C>=o.start){const I=C-o.start;c=o.a+o.d*w(I/o.duration),j(c,1-c)}}return!!(o||u)}))}return{run(g){Je(s)?Xt().then(()=>{s=s({direction:g?"in":"out"}),y(g)}):y(g)},end(){d(),o=u=null}}}function De(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ee(t){t&&t.c()}function xe(t,e,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),ue(()=>{const s=t.$$.on_mount.map(wt).filter(Je);t.$$.on_destroy?t.$$.on_destroy.push(...s):de(s),t.$$.on_mount=[]}),l.forEach(ue)}function $e(t,e){const n=t.$$;n.fragment!==null&&(Qt(n.after_update),de(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tn(t,e){t.$$.dirty[0]===-1&&(we.push(t),Yt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ce(t,e,n,r,l,s,c=null,o=[-1]){const u=He;Se(t);const a=t.$$={fragment:null,ctx:[],props:s,update:V,not_equal:l,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:nt(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};c&&c(a.root);let p=!1;if(a.ctx=n?n(t,e.props||{},(d,m,...y)=>{const g=y.length?y[0]:m;return a.ctx&&l(a.ctx[d],a.ctx[d]=g)&&(!a.skip_bound&&a.bound[d]&&a.bound[d](g),p&&tn(t,d)),m}):[],a.update(),p=!0,de(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const d=Nt(e.target);a.fragment&&a.fragment.l(d),d.forEach(k)}else a.fragment&&a.fragment.c();e.intro&&q(t.$$.fragment),xe(t,e.target,e.anchor),Mt()}Se(u)}class Le{constructor(){Re(this,"$$");Re(this,"$$set")}$destroy(){$e(this,1),this.$destroy=V}$on(e,n){if(!Je(n))return V;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!It(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const nn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(nn);window["cartier-server-url"]="https://reold-cartier.glitch.me";const ae={getRoot:async()=>await(await fetch(`${window["cartier-server-url"]}/`)).json(),getUserInfo:async t=>await(await fetch(`${window["cartier-server-url"]}/user?username=${t}`)).json(),getPlaylistInfo:async t=>await(await fetch(`${window["cartier-server-url"]}/playlist?id=${t}`)).json(),getDownloadPlaylist:async t=>await(await fetch(`${window["cartier-server-url"]}/download?link=${t}`)).json(),getDownloadStatus:async t=>await(await fetch(`${window["cartier-server-url"]}/status?key=${t}`)).json(),getDownloadTrack:async(t,e="",n=!1)=>await(await fetch(`${window["cartier-server-url"]}/track?link=${t}&key=${e}&create=${n}`)).json(),getStreamPlaylist:async t=>{let e=await fetch(`${window["cartier-server-url"]}/stream?key=${t}`);return[await e.ok,await e.blob()]}},_e=[];function et(t,e=V){let n;const r=new Set;function l(o){if(he(t,o)&&(t=o,n)){const u=!_e.length;for(const a of r)a[1](),_e.push(a,t);if(u){for(let a=0;a<_e.length;a+=2)_e[a][0](_e[a+1]);_e.length=0}}}function s(o){l(o(t))}function c(o,u=V){const a=[o,u];return r.add(a),r.size===1&&(n=e(l,s)||V),o(t),()=>{r.delete(a),r.size===0&&n&&(n(),n=null)}}return{set:l,update:s,subscribe:c}}function jt(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function rn(t){const e=t-1;return e*e*e+1}function ot(t,{delay:e=0,duration:n=400,easing:r=jt,amount:l=5,opacity:s=0}={}){const c=getComputedStyle(t),o=+c.opacity,u=c.filter==="none"?"":c.filter,a=o*(1-s),[p,d]=Tt(l);return{delay:e,duration:n,easing:r,css:(m,y)=>`opacity: ${o-a*y}; filter: ${u} blur(${y*p}${d});`}}function ke(t,{delay:e=0,duration:n=400,easing:r=rn,axis:l="y"}={}){const s=getComputedStyle(t),c=+s.opacity,o=l==="y"?"height":"width",u=parseFloat(s[o]),a=l==="y"?["top","bottom"]:["left","right"],p=a.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),d=parseFloat(s[`padding${p[0]}`]),m=parseFloat(s[`padding${p[1]}`]),y=parseFloat(s[`margin${p[0]}`]),g=parseFloat(s[`margin${p[1]}`]),_=parseFloat(s[`border${p[0]}Width`]),v=parseFloat(s[`border${p[1]}Width`]);return{delay:e,duration:n,easing:r,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*c};${o}: ${w*u}px;padding-${a[0]}: ${w*d}px;padding-${a[1]}: ${w*m}px;margin-${a[0]}: ${w*y}px;margin-${a[1]}: ${w*g}px;border-${a[0]}-width: ${w*_}px;border-${a[1]}-width: ${w*v}px;`}}function at(t){let e,n,r,l;const s=t[2].default,c=Ot(s,t,t[1],null);return{c(){e=h("div"),n=h("div"),c&&c.c(),i(n,"class","bg-gray-950 p-2 rounded-md ring-1 ring-zinc-500 max-w-[90vw]"),i(e,"class","absolute top-0 left-0 w-full h-full backdrop-blur-md flex flex-col items-center justify-center text-center text-xs")},m(o,u){$(o,e,u),f(e,n),c&&c.m(n,null),l=!0},p(o,u){c&&c.p&&(!l||u&2)&&Pt(c,s,o,o[1],l?Ut(s,o[1],u,null):zt(o[1]),null)},i(o){l||(q(c,o),o&&ue(()=>{l&&(r||(r=fe(e,ot,{duration:500},!0)),r.run(1))}),l=!0)},o(o){Q(c,o),o&&(r||(r=fe(e,ot,{duration:500},!1)),r.run(0)),l=!1},d(o){o&&k(e),c&&c.d(o),o&&r&&r.end()}}}function ln(t){let e,n,r=!t[0]&&at(t);return{c(){r&&r.c(),e=Xe()},m(l,s){r&&r.m(l,s),$(l,e,s),n=!0},p(l,[s]){l[0]?r&&(qe(),Q(r,1,1,()=>{r=null}),Fe()):r?(r.p(l,s),s&1&&q(r,1)):(r=at(l),r.c(),q(r,1),r.m(e.parentNode,e))},i(l){n||(q(r),n=!0)},o(l){Q(r),n=!1},d(l){l&&k(e),r&&r.d(l)}}}function sn(t,e,n){let{$$slots:r={},$$scope:l}=e,{hidden:s=!1}=e;return t.$$set=c=>{"hidden"in c&&n(0,s=c.hidden),"$$scope"in c&&n(1,l=c.$$scope)},[s,l,r]}class on extends Le{constructor(e){super(),Ce(this,e,sn,ln,he,{hidden:0})}}function ct(t){let e,n;return{c(){e=Z("svg"),n=Z("path"),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","1.5"),i(e,"stroke","currentColor"),i(e,"class","aspect-square w-[1.2em] animate-spin inline")},m(r,l){$(r,e,l),f(e,n)},d(r){r&&k(e)}}}function an(t){let e,n,r,l,s,c,o=t[0].step+"",u,a=t[0].is&&ct();return{c(){e=h("h1"),e.textContent="Waking up servers!",n=x(),r=h("p"),r.textContent=`Our servers take a little break every 5 minutes when things quiet down.
    We're in the process of waking them up for you. It's automatic, so no need
    to stress!`,l=x(),s=h("p"),a&&a.c(),c=x(),u=N(o),i(e,"class","text-xl"),i(r,"class","text-xs text-gray-500 inline"),i(s,"class","inline"),lt(s,"text-green-500",!t[0].is)},m(p,d){$(p,e,d),$(p,n,d),$(p,r,d),$(p,l,d),$(p,s,d),a&&a.m(s,null),f(s,c),f(s,u)},p(p,d){p[0].is?a||(a=ct(),a.c(),a.m(s,c)):a&&(a.d(1),a=null),d&1&&o!==(o=p[0].step+"")&&ce(u,o),d&1&&lt(s,"text-green-500",!p[0].is)},d(p){p&&(k(e),k(n),k(r),k(l),k(s)),a&&a.d()}}}function cn(t){let e,n;return e=new on({props:{hidden:!t[0].is,$$slots:{default:[an]},$$scope:{ctx:t}}}),{c(){Ee(e.$$.fragment)},m(r,l){xe(e,r,l),n=!0},p(r,[l]){const s={};l&1&&(s.hidden=!r[0].is),l&5&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){n||(q(e.$$.fragment,r),n=!0)},o(r){Q(e.$$.fragment,r),n=!1},d(r){$e(e,r)}}}function un(t,e,n){let r;const l=et({step:"trying to make contact",is:!0});return Ne(t,l,s=>n(0,r=s)),Lt(()=>{le(l,r.step="waking up servers",r),ae.getRoot().then(s=>{le(l,r.is=!1,r),le(l,r.step="servers are running!",r)}).catch(s=>{ne(`unable to reach servers. err: ${s}`),le(l,r.step="servers unreachable (reload?)",r)})}),[r,l]}class fn extends Le{constructor(e){super(),Ce(this,e,un,cn,he,{})}}function dn(t){let e,n,r,l,s,c,o,u,a,p,d,m,y,g,_,v,w,j,M,S,C,I,G,T,U,K;return e=new fn({}),{c(){Ee(e.$$.fragment),n=x(),r=h("div"),l=h("div"),s=h("p"),s.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 inline"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"></path></svg>
      fill-in to continue`,c=x(),o=h("div"),u=h("div"),a=h("input"),p=x(),d=h("button"),d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 inline rounded-full"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg>',m=x(),y=h("p"),y.innerHTML='you can copy your <svg xmlns="http://www.w3.org/2000/svg" class="w-[1em] inline" viewBox="-33.4974 -55.829 290.3108 334.974"><path d="M177.707 98.987c-35.992-21.375-95.36-23.34-129.719-12.912-5.519 1.674-11.353-1.44-13.024-6.958-1.672-5.521 1.439-11.352 6.96-13.029 39.443-11.972 105.008-9.66 146.443 14.936 4.964 2.947 6.59 9.356 3.649 14.31-2.944 4.963-9.359 6.6-14.31 3.653m-1.178 31.658c-2.525 4.098-7.883 5.383-11.975 2.867-30.005-18.444-75.762-23.788-111.262-13.012-4.603 1.39-9.466-1.204-10.864-5.8a8.717 8.717 0 015.805-10.856c40.553-12.307 90.968-6.347 125.432 14.833 4.092 2.52 5.38 7.88 2.864 11.968m-13.663 30.404a6.954 6.954 0 01-9.569 2.316c-26.22-16.025-59.223-19.644-98.09-10.766a6.955 6.955 0 01-8.331-5.232 6.95 6.95 0 015.233-8.334c42.533-9.722 79.017-5.538 108.448 12.446a6.96 6.96 0 012.31 9.57M111.656 0C49.992 0 0 49.99 0 111.656c0 61.672 49.992 111.66 111.657 111.66 61.668 0 111.659-49.988 111.659-111.66C223.316 49.991 173.326 0 111.657 0" fill="#1DB954"></path></svg>Spotify profile link from your account page',g=x(),_=h("div"),v=h("label"),w=h("input"),j=x(),M=h("span"),M.textContent="persist",S=x(),C=h("button"),C.textContent="continue",I=x(),G=h("details"),G.innerHTML=`<summary class="font-bold mb-2">Cartier Manager: Free Spotify Playlist Downloader</summary> <p class="mb-4">Mobile-friendly, free-to-use Spotify playlist downloader. Share your
      Spotify profile link to effortlessly download all your public playlists.</p> <p>Powered by <code>spotify-dl</code> on our servers, Cartier finds and downloads
      songs from YouTube based on Spotify data.</p>`,i(s,"class","text-2xl"),i(a,"type","text"),i(a,"class","w-full"),i(a,"placeholder","type Spotify profile link"),i(a,"autocomplete","url"),i(a,"aria-label","type spotify profile link"),i(d,"class","bg-zinc-500"),i(d,"aria-label","paste from clipboard"),i(u,"class","w-full flex flex-row items-center justify-center space-x-2"),i(y,"class","text-xs"),i(o,"class","flex flex-col items-center justify-center"),i(w,"type","checkbox"),i(w,"class","inline"),i(M,"class","align-middle"),i(v,"for","persisting userid"),i(v,"class","text-base flex flex-row space-x-2 bg-gray-950 p-3 rounded-md"),i(C,"class","hover:scale-110"),i(_,"class","flex flex-row items-center justify-center space-x-3"),i(l,"class","flex flex-col items-center text-center justify-center bg-zinc-950/50 ring-1 ring-zinc-500 rounded-md w-11/12 space-y-7 p-3"),i(G,"class","text-sm w-11/12"),i(r,"class","flex flex-col justify-center items-center w-full h-full")},m(A,F){xe(e,A,F),$(A,n,F),$(A,r,F),f(r,l),f(l,s),f(l,c),f(l,o),f(o,u),f(u,a),rt(a,t[0]),f(u,p),f(u,d),f(o,m),f(o,y),f(l,g),f(l,_),f(_,v),f(v,w),w.checked=t[1],f(v,j),f(v,M),f(_,S),f(_,C),f(r,I),f(r,G),T=!0,U||(K=[ie(a,"input",t[5]),ie(d,"click",t[2]),ie(w,"change",t[6]),ie(C,"click",t[3])],U=!0)},p(A,[F]){F&1&&a.value!==A[0]&&rt(a,A[0]),F&2&&(w.checked=A[1])},i(A){T||(q(e.$$.fragment,A),T=!0)},o(A){Q(e.$$.fragment,A),T=!1},d(A){A&&(k(n),k(r)),$e(e,A),U=!1,de(K)}}}function pn(t,e,n){Lt(()=>{const p=localStorage.getItem("cartier-userid");console.log("performing auto login"),p&&ne("performing auto-login",!0,5,d=>{r(p,()=>{d()})})});let{handleUsername:r}=e,l="",s=!0;const c=async()=>{navigator.clipboard.readText&&n(0,l=await navigator.clipboard.readText())},o=()=>{let p;try{p=new URL(l)}catch{n(0,l="");return}const d=p.pathname.split("/")[2];s&&(localStorage.setItem("cartier-userid",d),ne("login information saved!")),r(d)};function u(){l=this.value,n(0,l)}function a(){s=this.checked,n(1,s)}return t.$$set=p=>{"handleUsername"in p&&n(4,r=p.handleUsername)},[l,s,c,o,r,u,a]}class gn extends Le{constructor(e){super(),Ce(this,e,pn,dn,he,{handleUsername:4})}}function ut(t){return Object.prototype.toString.call(t)==="[object Date]"}function Ye(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((l,s)=>Ye(t[s],l));return l=>r.map(s=>s(l))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(ut(t)&&ut(e)){t=t.getTime(),e=e.getTime();const s=e-t;return c=>new Date(t+c*s)}const r=Object.keys(e),l={};return r.forEach(s=>{l[s]=Ye(t[s],e[s])}),s=>{const c={};return r.forEach(o=>{c[o]=l[o](s)}),c}}if(n==="number"){const r=e-t;return l=>t+l*r}throw new Error(`Cannot interpolate ${n} values`)}function hn(t,e={}){const n=et(t);let r,l=t;function s(c,o){if(t==null)return n.set(t=c),Promise.resolve();l=c;let u=r,a=!1,{delay:p=0,duration:d=400,easing:m=_t,interpolate:y=Ye}=Ge(Ge({},e),o);if(d===0)return u&&(u.abort(),u=null),n.set(t=l),Promise.resolve();const g=bt()+p;let _;return r=xt(v=>{if(v<g)return!0;a||(_=y(t,c),typeof d=="function"&&(d=d(t,c)),a=!0),u&&(u.abort(),u=null);const w=v-g;return w>d?(n.set(t=c),!1):(n.set(t=_(m(w/d))),!0)}),r.promise}return{set:s,update:(c,o)=>s(c(l,t),o),subscribe:n.subscribe}}function ft(t,e,n){const r=t.slice();return r[0]=e[n],r}function mn(t){let e,n;return{c(){e=Z("svg"),n=Z("path"),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","1.5"),i(e,"stroke","currentColor"),i(e,"class","w-[10vh] h-[10vh]")},m(r,l){$(r,e,l),f(e,n)},p:V,d(r){r&&k(e)}}}function _n(t){let e,n;return{c(){e=h("img"),i(e,"loading","lazy"),be(e.src,n=t[0].images[0].url)||i(e,"src",n),i(e,"class","rounded-full max-h-[10vh] shadow-black shadow-lg ring-1 ring-black"),i(e,"alt","playlist's cover")},m(r,l){$(r,e,l)},p(r,l){l&1&&!be(e.src,n=r[0].images[0].url)&&i(e,"src",n)},d(r){r&&k(e)}}}function wn(t){let e,n;return{c(){e=Z("svg"),n=Z("path"),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","m19.5 8.25-7.5 7.5-7.5-7.5"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","4"),i(e,"stroke","currentColor"),i(e,"class","w-[1.2em] text-xs aspect-square")},m(r,l){$(r,e,l),f(e,n)},d(r){r&&k(e)}}}function vn(t){let e,n;return{c(){e=Z("svg"),n=Z("path"),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","m4.5 15.75 7.5-7.5 7.5 7.5"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","3"),i(e,"stroke","currentColor"),i(e,"class","w-[1.2em] aspect-square text-xs")},m(r,l){$(r,e,l),f(e,n)},d(r){r&&k(e)}}}function yn(t){let e;return{c(){e=N("download")},m(n,r){$(n,e,r)},p:V,d(n){n&&k(e)}}}function bn(t){let e;return{c(){e=N("downloaded")},m(n,r){$(n,e,r)},p:V,d(n){n&&k(e)}}}function kn(t){let e,n,r,l;function s(u,a){return u[3].stage=="downloading"?$n:xn}let c=s(t),o=c(t);return{c(){e=Z("svg"),n=Z("path"),r=x(),o.c(),l=Xe(),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","1.5"),i(e,"stroke","currentColor"),i(e,"class","w-4 h-4 inline animate-spin")},m(u,a){$(u,e,a),f(e,n),$(u,r,a),o.m(u,a),$(u,l,a)},p(u,a){c!==(c=s(u))&&(o.d(1),o=c(u),o&&(o.c(),o.m(l.parentNode,l)))},d(u){u&&(k(e),k(r),k(l)),o.d(u)}}}function xn(t){let e;return{c(){e=N("converting")},m(n,r){$(n,e,r)},d(n){n&&k(e)}}}function $n(t){let e;return{c(){e=N("downloading")},m(n,r){$(n,e,r)},d(n){n&&k(e)}}}function dt(t){let e,n,r;return{c(){e=h("button"),e.textContent="save",i(e,"class","text-xs p-1")},m(l,s){$(l,e,s),n||(r=ie(e,"click",t[8]),n=!0)},p:V,d(l){l&&k(e),n=!1,r()}}}function pt(t){let e,n,r,l=t[1].tracks.total+"",s,c,o,u,a,p=De(t[1].tracks.items),d=[];for(let m=0;m<p.length;m+=1)d[m]=gt(ft(t,p,m));return{c(){e=h("div"),n=h("div"),r=h("div"),s=N(l),c=N(" tracks"),o=x();for(let m=0;m<d.length;m+=1)d[m].c();i(r,"class","bg-zinc-950 rounded-full text-white p-2"),i(n,"class","overflow-hidden overflow-x-scroll flex flex-row items-center space-x-2 p-1 relative"),i(e,"class","col-span-4 bg-zinc-500/10 rounded-md mx-2 text-xs flex flex-row justify-center")},m(m,y){$(m,e,y),f(e,n),f(n,r),f(r,s),f(r,c),f(n,o);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(n,null);a=!0},p(m,y){if((!a||y&2)&&l!==(l=m[1].tracks.total+"")&&ce(s,l),y&10){p=De(m[1].tracks.items);let g;for(g=0;g<p.length;g+=1){const _=ft(m,p,g);d[g]?d[g].p(_,y):(d[g]=gt(_),d[g].c(),d[g].m(n,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=p.length}},i(m){a||(m&&ue(()=>{a&&(u||(u=fe(e,ke,{duration:250},!0)),u.run(1))}),a=!0)},o(m){m&&(u||(u=fe(e,ke,{duration:250},!1)),u.run(0)),a=!1},d(m){m&&k(e),Ct(d,m),m&&u&&u.end()}}}function Cn(t){let e;return{c(){e=h("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[5vh] h-[5vh]"><path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"></path></svg> ',i(e,"class","ring-1 ring-black shadow-md shadow-black rounded-full")},m(n,r){$(n,e,r)},p:V,d(n){n&&k(e)}}}function Ln(t){let e,n,r;return{c(){e=h("img"),i(e,"loading","lazy"),be(e.src,n=t[0].track.album.images[0].url)||i(e,"src",n),i(e,"class",r="aspect-square h-[5vh] rounded-full ring-1 ring-black shadow-sm shadow-black will-change-auto "+(t[3].is?(t[3].statuses[t[0].track.id]=="downloading"?" rotating-image":"")+(t[3].statuses[t[0].track.id]=="ready"?" shadow-green-500 ring-green-500":"")+(t[3].statuses[t[0].track.id]=="failed"?" shadow-red-500 ring-red-500":""):"")),i(e,"alt","album")},m(l,s){$(l,e,s)},p(l,s){s&2&&!be(e.src,n=l[0].track.album.images[0].url)&&i(e,"src",n),s&10&&r!==(r="aspect-square h-[5vh] rounded-full ring-1 ring-black shadow-sm shadow-black will-change-auto "+(l[3].is?(l[3].statuses[l[0].track.id]=="downloading"?" rotating-image":"")+(l[3].statuses[l[0].track.id]=="ready"?" shadow-green-500 ring-green-500":"")+(l[3].statuses[l[0].track.id]=="failed"?" shadow-red-500 ring-red-500":""):""))&&i(e,"class",r)},d(l){l&&k(e)}}}function gt(t){let e;function n(s,c){return s[0].track&&s[0].track.album.images.length>0?Ln:Cn}let r=n(t),l=r(t);return{c(){l.c(),e=Xe()},m(s,c){l.m(s,c),$(s,e,c)},p(s,c){r===(r=n(s))&&l?l.p(s,c):(l.d(1),l=r(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){s&&k(e),l.d(s)}}}function Mn(t){let e,n,r,l,s,c,o,u,a,p=t[0].name+"",d,m,y,g,_,v,w,j=t[0].description+"",M,S,C,I,G,T,U,K,A,F=t[4]&&Object.keys(t[1]).length>0,X,H;function Y(b,P){return b[0].images.length>0?_n:mn}let ee=Y(t),R=ee(t);function Me(b,P){return b[4]?vn:wn}let se=Me(t),W=se(t);function te(b,P){return b[3].is?kn:b[2].length>0?bn:yn}let pe=te(t),J=pe(t),E=t[2].length>0&&!t[3].is&&dt(t),B=F&&pt(t);return{c(){e=h("div"),n=h("div"),l=x(),s=h("div"),c=h("div"),R.c(),o=x(),u=h("div"),a=h("a"),d=N(p),m=x(),y=Z("svg"),g=Z("path"),v=x(),w=h("p"),M=N(j),S=x(),C=h("div"),I=h("button"),W.c(),G=x(),T=h("button"),J.c(),K=x(),E&&E.c(),A=x(),B&&B.c(),i(n,"class","h-1 absolute backdrop-opacity-50 bg-aodPurple rounded-sm left-0 bottom-0 z-50"),Pe(n,"width",t[5]/100*90+"vw"),n.hidden=r=!t[3].is,i(c,"class","col-span-1 flex flex-col items-center justify-center"),i(g,"stroke-linecap","round"),i(g,"stroke-linejoin","round"),i(g,"d","M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),i(y,"xmlns","http://www.w3.org/2000/svg"),i(y,"fill","none"),i(y,"viewBox","0 0 24 24"),i(y,"stroke-width","1.5"),i(y,"stroke","currentColor"),i(y,"class","w-4 h-4 inline"),i(a,"class","hover:scale-110 duration-75 text-left line-clamp-1"),i(a,"href",_=t[0].external_urls.spotify),i(a,"target","_blank"),i(w,"class","text-xs line-clamp-1"),i(I,"class","bg-transparent text-white ring-1 p-1 ring-zinc-500 hover:scale-110"),i(I,"aria-label","show more"),i(T,"class","text-xs bg-aodPurple p-1"),T.disabled=U=t[3].is||t[2].length>0,i(C,"class","flex flex-row space-x-2"),i(u,"class","col-span-3 flex flex-col justify-center items-start"),i(s,"class","grid grid-cols-4 w-full gap-1"),i(e,"class","bg-gray-950/50 ring-1 ring-zinc-500 py-2 rounded-md w-[90vw] text-center relative")},m(b,P){$(b,e,P),f(e,n),f(e,l),f(e,s),f(s,c),R.m(c,null),f(s,o),f(s,u),f(u,a),f(a,d),f(a,m),f(a,y),f(y,g),f(u,v),f(u,w),f(w,M),f(u,S),f(u,C),f(C,I),W.m(I,null),f(C,G),f(C,T),J.m(T,null),f(C,K),E&&E.m(C,null),f(s,A),B&&B.m(s,null),X||(H=[ie(I,"click",t[7]),ie(T,"click",t[9])],X=!0)},p(b,[P]){P&32&&Pe(n,"width",b[5]/100*90+"vw"),P&8&&r!==(r=!b[3].is)&&(n.hidden=r),ee===(ee=Y(b))&&R?R.p(b,P):(R.d(1),R=ee(b),R&&(R.c(),R.m(c,null))),P&1&&p!==(p=b[0].name+"")&&ce(d,p),P&1&&_!==(_=b[0].external_urls.spotify)&&i(a,"href",_),P&1&&j!==(j=b[0].description+"")&&ce(M,j),se!==(se=Me(b))&&(W.d(1),W=se(b),W&&(W.c(),W.m(I,null))),pe===(pe=te(b))&&J?J.p(b,P):(J.d(1),J=pe(b),J&&(J.c(),J.m(T,null))),P&12&&U!==(U=b[3].is||b[2].length>0)&&(T.disabled=U),b[2].length>0&&!b[3].is?E?E.p(b,P):(E=dt(b),E.c(),E.m(C,null)):E&&(E.d(1),E=null),P&18&&(F=b[4]&&Object.keys(b[1]).length>0),F?B?(B.p(b,P),P&18&&q(B,1)):(B=pt(b),B.c(),q(B,1),B.m(s,null)):B&&(qe(),Q(B,1,1,()=>{B=null}),Fe())},i(b){q(B)},o(b){Q(B)},d(b){b&&k(e),R.d(),W.d(),J.d(),E&&E.d(),B&&B.d(),X=!1,de(H)}}}function jn(t,e,n){let r,l={},s=[],{track:c}=e;const o={is:!1,statuses:{},stage:""};let u=!1,a=hn(0,{duration:1e3,easing:jt});Ne(t,a,g=>n(5,r=g));const p=()=>{u==!1?(Object.keys(l).length==0&&d(),n(4,u=!0)):n(4,u=!1)},d=async()=>{const g=c.external_urls.spotify,v=new URL(g).pathname.split("/")[2];ne("loading playlist info",!0,1,async w=>{let j=await ae.getPlaylistInfo(v);n(1,l=j),w()})},m=()=>{s.forEach((g,_)=>{const v=URL.createObjectURL(g),w=document.createElement("a");w.href=v,w.download=`${c.name}-${_+1}.mp3`,w.click()})},y=async()=>{if(Object.keys(l).length==0&&await d(),!l.tracks)return;if(l.tracks.items.length==0){ne("cannot download empty playlist");return}n(3,o.is=!0,o),n(3,o.stage="converting",o),a.set(0,{duration:1}),a.set(10,{duration:1e4});let g=l.tracks.items[0].track;ae.getDownloadTrack(g.external_urls.spotify,"",!0).then(async _=>{if(_.success==!1){le(a,r=0,r),n(3,o.is=!1,o),ne(`serverErr: ${_.info}`);return}const v=_.data.key;n(3,o.statuses[g.id]="downloading",o);for(const[j,{track:M}]of[...l.tracks.items].splice(1).entries())M&&n(3,o.statuses[M.id]="downloading",o),(await ae.getDownloadTrack(M.external_urls.spotify,v,!1)).success==!1&&ne(`failed downloading track (${M.name})`);await a.set(10);const w=setInterval(async()=>{let j=await ae.getDownloadStatus(v);const M=j.data.filter(S=>S.status!=="downloading");if(j.data.forEach(S=>{n(3,o.statuses[S.id]=S.status,o)}),le(a,r=M.length/j.data.length*40+10,r),M.length==j.data.length){n(3,o.stage="downloading",o),clearInterval(w);for(let S=0;S<M.length;S++){let[C,I]=await ae.getStreamPlaylist(v);if(!C){ne(`failed downloading a track (in "${c.name}")`);continue}n(2,s=[...s,I]),le(a,r=(S+1)/M.length*50+50,r)}await a.set(100,{duration:500}),n(3,o.is=!1,o)}},5e3)})};return t.$$set=g=>{"track"in g&&n(0,c=g.track)},[c,l,s,o,u,r,a,p,m,y]}class Sn extends Le{constructor(e){super(),Ce(this,e,jn,Mn,he,{track:0})}}const Ae=et({loggedIn:!1,user:{},playlists:{}});function ht(t,e,n){const r=t.slice();return r[2]=e[n],r}function An(t){let e,n;return{c(){e=Z("svg"),n=Z("path"),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","1.5"),i(e,"stroke","currentColor"),i(e,"class","w-[10vh] h-[10vh] rounded-full ring-aodBg ring-2")},m(r,l){$(r,e,l),f(e,n)},p:V,d(r){r&&k(e)}}}function Hn(t){let e,n,r;return{c(){e=h("img"),i(e,"loading","lazy"),be(e.src,n=t[0].user.images[1].url)||i(e,"src",n),i(e,"alt",r=`${t[0].user.display_name}'s profile picture`),i(e,"class","rounded-full h-[10vh] ring-aodBg ring-1 shadow-sm shadow-black aspect-square")},m(l,s){$(l,e,s)},p(l,s){s&1&&!be(e.src,n=l[0].user.images[1].url)&&i(e,"src",n),s&1&&r!==(r=`${l[0].user.display_name}'s profile picture`)&&i(e,"alt",r)},d(l){l&&k(e)}}}function mt(t){let e,n;return e=new Sn({props:{track:t[2]}}),{c(){Ee(e.$$.fragment)},m(r,l){xe(e,r,l),n=!0},p(r,l){const s={};l&1&&(s.track=r[2]),e.$set(s)},i(r){n||(q(e.$$.fragment,r),n=!0)},o(r){Q(e.$$.fragment,r),n=!1},d(r){$e(e,r)}}}function En(t){let e,n,r,l,s,c,o=t[0].user.display_name+"",u,a,p,d,m=t[0].user.followers.total+"",y,g,_,v,w,j,M,S,C,I=t[0].playlists.total+"",G,T,U,K,A,F,X=t[0].user.id+"",H,Y,ee,R,Me,se,W,te,pe,J,E,B,b;function P(L,D){return L[0].user.images.length==2?Hn:An}let Ie=P(t),re=Ie(t),ge=De(t[0].playlists.items),O=[];for(let L=0;L<ge.length;L+=1)O[L]=mt(ht(t,ge,L));const At=L=>Q(O[L],1,1,()=>{O[L]=null});return{c(){e=h("div"),n=h("div"),r=h("div"),re.c(),l=x(),s=h("div"),c=h("p"),u=N(o),a=x(),p=h("div"),d=h("p"),y=N(m),g=x(),_=Z("svg"),v=Z("path"),w=Z("path"),j=x(),M=h("p"),M.textContent="and",S=x(),C=h("p"),G=N(I),T=N(" playlists"),U=x(),K=h("p"),A=Z("svg"),F=Z("path"),H=N(X),Y=x(),ee=h("div"),R=h("button"),R.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1.5em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"></path></svg>logout',Me=x(),se=h("div"),W=h("div");for(let L=0;L<O.length;L+=1)O[L].c();pe=x(),J=h("div"),i(c,"class","font-semibold"),Pe(c,"text-shadow","4px 3px 8px rgba(0,0,0,1)"),i(v,"fill-rule","evenodd"),i(v,"d","M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z"),i(v,"clip-rule","evenodd"),i(w,"d","M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"),i(_,"xmlns","http://www.w3.org/2000/svg"),i(_,"viewBox","0 0 24 24"),i(_,"fill","currentColor"),i(_,"class","w-[1em] inline ml-[0.5ch]"),i(M,"class","mx-[1ch]"),i(p,"class","flex flex-row justify-center items-center text-xs"),i(F,"fill-rule","evenodd"),i(F,"d","M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z"),i(F,"clip-rule","evenodd"),i(A,"xmlns","http://www.w3.org/2000/svg"),i(A,"viewBox","0 0 24 24"),i(A,"fill","currentColor"),i(A,"class","w-[1em] inline mr-[0.5ch]"),i(K,"class","text-xs select-text text-ellipsis"),i(s,"class","flex flex-col justify-center items-start"),i(r,"class","flex flex-row items-center justify-center space-x-5"),i(R,"class","text-sm p-0.5 bg-red-500 text-gray-950"),i(R,"aria-label","logout"),i(n,"class","flex flex-row justify-center items-center h-[13vh] space-x-4 bg-gradient-to-t from-gray-950/50 backdrop-blur-sm to-zinc-500 w-[90vw] rounded-t-md ring-1 ring-zinc-500 z-50"),i(W,"class","flex flex-col justify-center items-center w-full space-y-2 pb-1"),i(se,"class","h-[70vh] overflow-y-scroll w-[100vw]"),i(J,"class","backdrop-opacity-100 rounded-full backdrop-blur-sm w-[95vw] h-5 absolute bottom-0 left-auto right-auto"),i(e,"class","flex flex-col items-center -space-y-1")},m(L,D){$(L,e,D),f(e,n),f(n,r),re.m(r,null),f(r,l),f(r,s),f(s,c),f(c,u),f(s,a),f(s,p),f(p,d),f(d,y),f(p,g),f(p,_),f(_,v),f(_,w),f(p,j),f(p,M),f(p,S),f(p,C),f(C,G),f(C,T),f(s,U),f(s,K),f(K,A),f(A,F),f(K,H),f(n,Y),f(n,ee),f(ee,R),f(e,Me),f(e,se),f(se,W);for(let z=0;z<O.length;z+=1)O[z]&&O[z].m(W,null);f(e,pe),f(e,J),E=!0,B||(b=ie(R,"click",t[1]),B=!0)},p(L,[D]){if(Ie===(Ie=P(L))&&re?re.p(L,D):(re.d(1),re=Ie(L),re&&(re.c(),re.m(r,l))),(!E||D&1)&&o!==(o=L[0].user.display_name+"")&&ce(u,o),(!E||D&1)&&m!==(m=L[0].user.followers.total+"")&&ce(y,m),(!E||D&1)&&I!==(I=L[0].playlists.total+"")&&ce(G,I),(!E||D&1)&&X!==(X=L[0].user.id+"")&&ce(H,X),D&1){ge=De(L[0].playlists.items);let z;for(z=0;z<ge.length;z+=1){const tt=ht(L,ge,z);O[z]?(O[z].p(tt,D),q(O[z],1)):(O[z]=mt(tt),O[z].c(),q(O[z],1),O[z].m(W,null))}for(qe(),z=ge.length;z<O.length;z+=1)At(z);Fe()}},i(L){if(!E){for(let D=0;D<ge.length;D+=1)q(O[D]);L&&ue(()=>{E&&(te||(te=fe(W,ke,{duration:1e3},!0)),te.run(1))}),E=!0}},o(L){O=O.filter(Boolean);for(let D=0;D<O.length;D+=1)Q(O[D]);L&&(te||(te=fe(W,ke,{duration:1e3},!1)),te.run(0)),E=!1},d(L){L&&k(e),re.d(),Ct(O,L),L&&te&&te.end(),B=!1,b()}}}function In(t,e,n){let r;return Ne(t,Ae,s=>n(0,r=s)),[r,()=>{localStorage.removeItem("cartier-userid"),le(Ae,r.loggedIn=!1,r)}]}class Bn extends Le{constructor(e){super(),Ce(this,e,In,En,he,{})}}function On(t){let e,n;return e=new Bn({}),{c(){Ee(e.$$.fragment)},m(r,l){xe(e,r,l),n=!0},p:V,i(r){n||(q(e.$$.fragment,r),n=!0)},o(r){Q(e.$$.fragment,r),n=!1},d(r){$e(e,r)}}}function Un(t){let e,n;return e=new gn({props:{handleUsername:t[1]}}),{c(){Ee(e.$$.fragment)},m(r,l){xe(e,r,l),n=!0},p:V,i(r){n||(q(e.$$.fragment,r),n=!0)},o(r){Q(e.$$.fragment,r),n=!1},d(r){$e(e,r)}}}function Pn(t){let e;return{c(){e=h("span"),e.textContent="prod",i(e,"class","rounded-sm p-0.5 bg-blue-600")},m(n,r){$(n,e,r)},d(n){n&&k(e)}}}function zn(t){let e,n,r,l,s,c,o,u,a,p,d,m,y,g,_,v,w,j,M,S,C,I,G;const T=[Un,On],U=[];function K(H,Y){return H[0].loggedIn==!1?0:1}p=K(t),d=U[p]=T[p](t);function A(H,Y){return Pn}let X=A()(t);return{c(){e=h("div"),n=x(),r=h("main"),l=h("div"),l.innerHTML='<a href="https://github.com/reold" target="_blank" aria-label="goto reold&#39;s page" class="bg-aodPurple shadow-sm text-gray-950 shadow-gray-950 rounded-md p-2 ml-2 h-11/12 flex flex-col items-center justify-center"><svg class="h-[0.75em]" viewBox="0 0 146 28" xmlns="http://www.w3.org/2000/svg"><path d="M0.028144 14.6351C0.00946983 14.5455 0.00319455 14.4537 0.00949413 14.3623L0.935779 0.931198C0.971941 0.406861 1.40783 0 1.93341 0H27.6172C28.1215 0 28.5469 0.375536 28.6095 0.875965L29.8983 11.1865C29.9574 11.6595 29.6745 12.1085 29.2223 12.2592L26.8461 13.0513C25.7699 13.41 26.0279 15 27.1623 15H27.7891C28.2147 15 28.5937 15.2694 28.7336 15.6715L32.5 26.5L32.0196 1.51923C32.0088 0.959521 32.4596 0.5 33.0194 0.5H58.8672C59.4687 0.5 59.9341 1.02718 59.8595 1.62403L59.0947 7.7421C59.0388 8.18957 58.6903 8.54424 58.2439 8.60802L52.7135 9.39807C52.2874 9.45894 51.8702 9.24032 51.6777 8.85533L49.8879 5.27573C49.6653 4.83062 49.1493 4.61689 48.6772 4.77426L47.0077 5.33076C46.6905 5.43649 46.4472 5.69375 46.3592 6.01633L45.3445 9.73688C45.171 10.373 45.6499 11 46.3093 11H54.0723C54.7663 11 55.2493 11.6896 55.0121 12.3417L53.7538 15.8021C53.6031 16.2165 53.1988 16.4833 52.7585 16.4588L45.464 16.0536C44.9262 16.0237 44.4614 16.4251 44.4126 16.9615L44.1056 20.3387C44.0501 20.9492 44.552 21.4655 45.1638 21.4273L51.3857 21.0384C51.7624 21.0148 52.0938 20.7812 52.2425 20.4343L53.2161 18.1625C53.3856 17.7669 53.7893 17.5241 54.2183 17.5599L59.5 18L58.1458 25.6738C58.0615 26.1516 57.6463 26.5 57.161 26.5H32.5H19.3346C18.8513 26.5 18.4372 26.1544 18.3507 25.6789L17.5502 21.2759C17.5174 21.0954 17.4356 20.9275 17.3137 20.7904L15.2474 18.4658C14.6365 17.7786 13.5 18.2107 13.5 19.1302V25.5C13.5 26.0523 13.0523 26.5 12.5 26.5H3.31314C2.83946 26.5 2.43077 26.1677 2.33416 25.704L0.028144 14.6351Z" fill="url(#paint0_linear_2_5)"></path><path d="M59.5 18V11.3124C59.5 11.109 59.562 10.9104 59.6778 10.7432L63.8477 4.71999C63.9475 4.57586 64.0834 4.4605 64.2418 4.38546L73.2968 0.0962621C73.4306 0.0328787 73.5768 0 73.7249 0H84.4064C84.7723 0 85.109 0.199887 85.2843 0.521148L88 5.5L88.826 1.78307C88.9277 1.32553 89.3335 1 89.8022 1H101.839C102.45 1 102.918 1.54374 102.828 2.14834L100.149 20.0041C100.067 20.553 100.447 21.0639 100.997 21.1424L106.376 21.9109C106.757 21.9653 107.136 21.796 107.35 21.4756L109.67 17.9951C109.873 17.69 110.227 17.5207 110.593 17.5539L115.5 18V1.93112C115.5 1.40648 115.905 0.971039 116.429 0.93366L129.388 0.00801164C129.462 0.00268732 129.537 0.00573536 129.611 0.0170986L141.886 1.90548C142.262 1.96336 142.573 2.22978 142.687 2.59273L145.354 11.0381C145.446 11.3298 145.4 11.6477 145.228 11.9008L136.288 25.0761C136.107 25.3423 135.809 25.5053 135.488 25.5142L118.757 25.979C118.309 25.9914 117.908 25.7049 117.774 25.2776L115.5 18L113.689 25.2425C113.578 25.6877 113.178 26 112.719 26H89.905C89.3912 26 88.9611 25.6107 88.91 25.0995L88 16L81.673 23.7871C81.5598 23.9265 81.4111 24.0328 81.2426 24.0948L72.2892 27.3934C72.1008 27.4629 71.8958 27.474 71.701 27.4252L64.4018 25.6005C64.1445 25.5361 63.9233 25.3722 63.7869 25.1448L59.5 18Z" fill="url(#paint1_linear_2_5)"></path><defs><linearGradient id="paint0_linear_2_5" x1="72.75" y1="0" x2="72.75" y2="27.5" gradientUnits="userSpaceOnUse"><stop></stop><stop offset="1" stop-opacity="0.5"></stop></linearGradient><linearGradient id="paint1_linear_2_5" x1="72.75" y1="0" x2="72.75" y2="27.5" gradientUnits="userSpaceOnUse"><stop></stop><stop offset="1" stop-opacity="0.5"></stop></linearGradient></defs></svg></a> <p class="text-3xl">Cartier Manager</p>',s=x(),c=h("div"),o=h("div"),a=x(),d.c(),m=x(),y=h("div"),g=h("p"),X.c(),_=N(`
      built by
      `),v=h("a"),v.textContent="reold",w=N(`.
      `),j=h("button"),j.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"></path></svg>
        use render`,M=x(),S=h("a"),S.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg>
        report issue`,i(e,"class","bg-black opacity-75 p-1 rounded-md w-[80vw] max-w-[90vw] z-[1000]"),Pe(e,"display","none"),i(l,"class","flex flex-row items-center justify-evenly font-bold h-[10vh] bg-gray-950 ring-1 ring-zinc-500 shadow-xl"),i(o,"class","absolute left-0 top-0 w-full flex flex-col items-center justify-center space-y-1 text-xs"),i(c,"class","flex flex-col space-y-1 items-center relative h-[85vh] bg-gradient-to-t from-gray-950 via-[#203A43] to-gray-950"),i(v,"href","https://github.com/reold"),i(v,"target","_blank"),i(v,"class","text-blue-600"),i(j,"aria-label","use alternative render service servers"),i(j,"class","p-0 bg-transparent text-orange-600 text-xs disabled:animate-pulse"),i(S,"href","https://github.com/reold/cartier/issues/new"),i(S,"target","_blank"),i(S,"class","text-blue-600"),i(y,"class","w-full h-[5vh] bg-gray-950 text-xs flex flex-col items-center justify-center"),i(r,"class","w-screen h-screen text-white text-xl select-none text-center")},m(H,Y){$(H,e,Y),t[2](e),$(H,n,Y),$(H,r,Y),f(r,l),f(r,s),f(r,c),f(c,o),t[3](o),f(c,a),U[p].m(c,null),f(r,m),f(r,y),f(y,g),X.m(g,null),f(g,_),f(g,v),f(g,w),f(g,j),f(g,M),f(g,S),C=!0,I||(G=ie(j,"click",t[4]),I=!0)},p(H,[Y]){let ee=p;p=K(H),p===ee?U[p].p(H,Y):(qe(),Q(U[ee],1,1,()=>{U[ee]=null}),Fe(),d=U[p],d?d.p(H,Y):(d=U[p]=T[p](H),d.c()),q(d,1),d.m(c,null))},i(H){C||(H&&ue(()=>{C&&(u||(u=fe(o,ke,{duration:1e4},!0)),u.run(1))}),q(d),C=!0)},o(H){H&&(u||(u=fe(o,ke,{duration:1e4},!1)),u.run(0)),Q(d),C=!1},d(H){H&&(k(e),k(n),k(r)),t[2](null),t[3](null),H&&u&&u.end(),U[p].d(),X.d(),I=!1,G()}}}let Ue,St;const ne=(t,e=!1,n=3,r)=>{const l=St.cloneNode(!0);l.innerHTML=e?`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1.2em] animate-spin inline aspect-square mr-1" > <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" /> </svg>${t}`:t,l.style.display="block",Ue.appendChild(l),r?r(()=>{Ue.removeChild(l)}):setTimeout(()=>{Ue.removeChild(l)},n*1e3)};function Tn(t,e,n){let r;Ne(t,Ae,u=>n(0,r=u));const l=(u,a)=>{ae.getUserInfo(u).then(p=>{if(p.success==!1){ne("something went wrong!");return}le(Ae,r={...r,...p.data},r),le(Ae,r.loggedIn=!0,r),a&&a()})};function s(u){Ze[u?"unshift":"push"](()=>{St=u})}function c(u){Ze[u?"unshift":"push"](()=>{Ue=u})}return[r,l,s,c,async({target:u})=>{window["cartier-server-url"]="https://cartier-backend.onrender.com",u&&(u.disabled=!0,u.innerText="using render"),ne("switching & waking alternate (render)server",!0,5,async a=>{await ae.getRoot(),a(),ne("(render)server running")})}]}class Zn extends Le{constructor(e){super(),Ce(this,e,Tn,zn,he,{})}}new Zn({target:document.getElementById("app")});
