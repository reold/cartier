var Rt=Object.defineProperty;var Wt=(t,e,n)=>e in t?Rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var et=(t,e,n)=>(Wt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function T(){}const Ht=t=>t;function rt(t,e){for(const n in e)t[n]=e[n];return t}function Et(t){return t()}function ht(){return Object.create(null)}function de(t){t.forEach(Et)}function it(t){return typeof t=="function"}function pe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ne;function Be(t,e){return t===e?!0:(Ne||(Ne=document.createElement("a")),Ne.href=e,t===Ne.href)}function Vt(t){return Object.keys(t).length===0}function Gt(t,...e){if(t==null){for(const r of e)r(void 0);return T}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ge(t,e,n){t.$$.on_destroy.push(Gt(e,n))}function Kt(t,e,n,r){if(t){const l=It(t,e,n,r);return t[0](l)}}function It(t,e,n,r){return t[1]&&r?rt(n.ctx.slice(),t[1](r(e))):n.ctx}function Yt(t,e,n,r){if(t[2]&&r){const l=t[2](r(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const i=[],u=Math.max(e.dirty.length,l.length);for(let a=0;a<u;a+=1)i[a]=e.dirty[a]|l[a];return i}return e.dirty|l}return e.dirty}function Jt(t,e,n,r,l,i){if(l){const u=It(e,n,r,i);t.p(u,l)}}function Qt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function oe(t,e,n){return t.set(n),e}function Xt(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Ot=typeof window<"u";let Pt=Ot?()=>window.performance.now():()=>Date.now(),ot=Ot?t=>requestAnimationFrame(t):T;const Se=new Set;function Ut(t){Se.forEach(e=>{e.c(t)||(Se.delete(e),e.f())}),Se.size!==0&&ot(Ut)}function Tt(t){let e;return Se.size===0&&ot(Ut),{promise:new Promise(n=>{Se.add(e={c:t,f:n})}),abort(){Se.delete(e)}}}function f(t,e){t.appendChild(e)}function zt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function en(t){const e=h("style");return e.textContent="/* empty */",tn(zt(t),e),e.sheet}function tn(t,e){return f(t.head||t,e),e.sheet}function C(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function at(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function B(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t){return document.createTextNode(t)}function x(){return q(" ")}function ct(){return q("")}function ae(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function s(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function nn(t){return Array.from(t.childNodes)}function me(t,e){e=""+e,t.data!==e&&(t.data=e)}function mt(t,e){t.value=e??""}function Fe(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function wt(t,e,n){t.classList.toggle(e,!!n)}function rn(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const Re=new Map;let We=0;function ln(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function sn(t,e){const n={stylesheet:en(e),rules:{}};return Re.set(t,n),n}function _t(t,e,n,r,l,i,u,a=0){const c=16.666/r;let o=`{
`;for(let w=0;w<=1;w+=c){const _=e+(n-e)*i(w);o+=w*100+`%{${u(_,1-_)}}
`}const p=o+`100% {${u(n,1-n)}}
}`,d=`__svelte_${ln(p)}_${a}`,m=zt(t),{stylesheet:v,rules:g}=Re.get(m)||sn(m,t);g[d]||(g[d]=!0,v.insertRule(`@keyframes ${d} ${p}`,v.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${d} ${r}ms linear ${l}ms 1 both`,We+=1,d}function on(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),l=n.length-r.length;l&&(t.style.animation=r.join(", "),We-=l,We||an())}function an(){ot(()=>{We||(Re.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&k(e)}),Re.clear())})}let Te;function Pe(t){Te=t}function cn(){if(!Te)throw new Error("Function called outside component initialization");return Te}function un(t){cn().$$.on_mount.push(t)}const Me=[],Ve=[];let Ae=[];const vt=[],fn=Promise.resolve();let lt=!1;function dn(){lt||(lt=!0,fn.then(Dt))}function we(t){Ae.push(t)}const tt=new Set;let Le=0;function Dt(){if(Le!==0)return;const t=Te;do{try{for(;Le<Me.length;){const e=Me[Le];Le++,Pe(e),pn(e.$$)}}catch(e){throw Me.length=0,Le=0,e}for(Pe(null),Me.length=0,Le=0;Ve.length;)Ve.pop()();for(let e=0;e<Ae.length;e+=1){const n=Ae[e];tt.has(n)||(tt.add(n),n())}Ae.length=0}while(Me.length);for(;vt.length;)vt.pop()();lt=!1,tt.clear(),Pe(t)}function pn(t){if(t.fragment!==null){t.update(),de(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(we)}}function gn(t){const e=[],n=[];Ae.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Ae=e}let Oe;function hn(){return Oe||(Oe=Promise.resolve(),Oe.then(()=>{Oe=null})),Oe}function nt(t,e,n){t.dispatchEvent(rn(`${e?"intro":"outro"}${n}`))}const Ze=new Set;let ce;function Ke(){ce={r:0,c:[],p:ce}}function Ye(){ce.r||de(ce.c),ce=ce.p}function U(t,e){t&&t.i&&(Ze.delete(t),t.i(e))}function W(t,e,n,r){if(t&&t.o){if(Ze.has(t))return;Ze.add(t),ce.c.push(()=>{Ze.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const mn={duration:0};function _e(t,e,n,r){let i=e(t,n,{direction:"both"}),u=r?0:1,a=null,c=null,o=null,p;function d(){o&&on(t,o)}function m(g,y){const w=g.b-u;return y*=Math.abs(w),{a:u,b:g.b,d:w,duration:y,start:g.start,end:g.start+y,group:g.group}}function v(g){const{delay:y=0,duration:w=300,easing:_=Ht,tick:L=T,css:S}=i||mn,j={start:Pt()+y,b:g};g||(j.group=ce,ce.r+=1),"inert"in t&&(g?p!==void 0&&(t.inert=p):(p=t.inert,t.inert=!0)),a||c?c=j:(S&&(d(),o=_t(t,u,g,w,y,_,S)),g&&L(0,1),a=m(j,w),we(()=>nt(t,g,"start")),Tt(M=>{if(c&&M>c.start&&(a=m(c,w),c=null,nt(t,a.b,"start"),S&&(d(),o=_t(t,u,a.b,a.duration,0,_,i.css))),a){if(M>=a.end)L(u=a.b,1-u),nt(t,a.b,"end"),c||(a.b?d():--a.group.r||de(a.group.c)),a=null;else if(M>=a.start){const E=M-a.start;u=a.a+a.d*_(E/a.duration),L(u,1-u)}}return!!(a||c)}))}return{run(g){it(i)?hn().then(()=>{i=i({direction:g?"in":"out"}),v(g)}):v(g)},end(){d(),a=c=null}}}function He(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ve(t){t&&t.c()}function ue(t,e,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),we(()=>{const i=t.$$.on_mount.map(Et).filter(it);t.$$.on_destroy?t.$$.on_destroy.push(...i):de(i),t.$$.on_mount=[]}),l.forEach(we)}function fe(t,e){const n=t.$$;n.fragment!==null&&(gn(n.after_update),de(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function wn(t,e){t.$$.dirty[0]===-1&&(Me.push(t),dn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,n,r,l,i,u=null,a=[-1]){const c=Te;Pe(t);const o=t.$$={fragment:null,ctx:[],props:i,update:T,not_equal:l,bound:ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ht(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};u&&u(o.root);let p=!1;if(o.ctx=n?n(t,e.props||{},(d,m,...v)=>{const g=v.length?v[0]:m;return o.ctx&&l(o.ctx[d],o.ctx[d]=g)&&(!o.skip_bound&&o.bound[d]&&o.bound[d](g),p&&wn(t,d)),m}):[],o.update(),p=!0,de(o.before_update),o.fragment=r?r(o.ctx):!1,e.target){if(e.hydrate){const d=nn(e.target);o.fragment&&o.fragment.l(d),d.forEach(k)}else o.fragment&&o.fragment.c();e.intro&&U(t.$$.fragment),ue(t,e.target,e.anchor),Dt()}Pe(c)}class ye{constructor(){et(this,"$$");et(this,"$$set")}$destroy(){fe(this,1),this.$destroy=T}$on(e,n){if(!it(n))return T;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!Vt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _n="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_n);window["cartier-server-url"]="https://reold-cartier.glitch.me";const he={getRoot:async()=>await(await fetch(`${window["cartier-server-url"]}/`)).json(),getUserInfo:async t=>await(await fetch(`${window["cartier-server-url"]}/user?username=${t}`)).json(),getPlaylistInfo:async t=>await(await fetch(`${window["cartier-server-url"]}/playlist?id=${t}`)).json(),getDownloadPlaylist:async t=>await(await fetch(`${window["cartier-server-url"]}/download?link=${t}`)).json(),getDownloadStatus:async t=>await(await fetch(`${window["cartier-server-url"]}/status?key=${t}`)).json(),getDownloadTrack:async(t,e="",n=!1)=>await(await fetch(`${window["cartier-server-url"]}/track?link=${t}&key=${e}&create=${n}`)).json(),getStreamPlaylist:async t=>{let e=await fetch(`${window["cartier-server-url"]}/stream?key=${t}`);return[await e.ok,await e.blob(),e.headers.get("x-trackid")]}},je=[];function ut(t,e=T){let n;const r=new Set;function l(a){if(pe(t,a)&&(t=a,n)){const c=!je.length;for(const o of r)o[1](),je.push(o,t);if(c){for(let o=0;o<je.length;o+=2)je[o][0](je[o+1]);je.length=0}}}function i(a){l(a(t))}function u(a,c=T){const o=[a,c];return r.add(o),r.size===1&&(n=e(l,i)||T),a(t),()=>{r.delete(o),r.size===0&&n&&(n(),n=null)}}return{set:l,update:i,subscribe:u}}function Nt(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function vn(t){const e=t-1;return e*e*e+1}function bt(t,{delay:e=0,duration:n=400,easing:r=Nt,amount:l=5,opacity:i=0}={}){const u=getComputedStyle(t),a=+u.opacity,c=u.filter==="none"?"":u.filter,o=a*(1-i),[p,d]=Xt(l);return{delay:e,duration:n,easing:r,css:(m,v)=>`opacity: ${a-o*v}; filter: ${c} blur(${v*p}${d});`}}function Ee(t,{delay:e=0,duration:n=400,easing:r=vn,axis:l="y"}={}){const i=getComputedStyle(t),u=+i.opacity,a=l==="y"?"height":"width",c=parseFloat(i[a]),o=l==="y"?["top","bottom"]:["left","right"],p=o.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),d=parseFloat(i[`padding${p[0]}`]),m=parseFloat(i[`padding${p[1]}`]),v=parseFloat(i[`margin${p[0]}`]),g=parseFloat(i[`margin${p[1]}`]),y=parseFloat(i[`border${p[0]}Width`]),w=parseFloat(i[`border${p[1]}Width`]);return{delay:e,duration:n,easing:r,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*u};${a}: ${_*c}px;padding-${o[0]}: ${_*d}px;padding-${o[1]}: ${_*m}px;margin-${o[0]}: ${_*v}px;margin-${o[1]}: ${_*g}px;border-${o[0]}-width: ${_*y}px;border-${o[1]}-width: ${_*w}px;`}}function yt(t){let e,n,r,l;const i=t[2].default,u=Kt(i,t,t[1],null);return{c(){e=h("div"),n=h("div"),u&&u.c(),s(n,"class","bg-gray-950 p-2 rounded-md ring-1 ring-zinc-500 max-w-[90vw]"),s(e,"class","absolute top-0 left-0 w-full h-full backdrop-blur-md flex flex-col items-center justify-center text-center text-xs")},m(a,c){C(a,e,c),f(e,n),u&&u.m(n,null),l=!0},p(a,c){u&&u.p&&(!l||c&2)&&Jt(u,i,a,a[1],l?Yt(i,a[1],c,null):Qt(a[1]),null)},i(a){l||(U(u,a),a&&we(()=>{l&&(r||(r=_e(e,bt,{duration:500},!0)),r.run(1))}),l=!0)},o(a){W(u,a),a&&(r||(r=_e(e,bt,{duration:500},!1)),r.run(0)),l=!1},d(a){a&&k(e),u&&u.d(a),a&&r&&r.end()}}}function bn(t){let e,n,r=!t[0]&&yt(t);return{c(){r&&r.c(),e=ct()},m(l,i){r&&r.m(l,i),C(l,e,i),n=!0},p(l,[i]){l[0]?r&&(Ke(),W(r,1,1,()=>{r=null}),Ye()):r?(r.p(l,i),i&1&&U(r,1)):(r=yt(l),r.c(),U(r,1),r.m(e.parentNode,e))},i(l){n||(U(r),n=!0)},o(l){W(r),n=!1},d(l){l&&k(e),r&&r.d(l)}}}function yn(t,e,n){let{$$slots:r={},$$scope:l}=e,{hidden:i=!1}=e;return t.$$set=u=>{"hidden"in u&&n(0,i=u.hidden),"$$scope"in u&&n(1,l=u.$$scope)},[i,l,r]}class Zt extends ye{constructor(e){super(),be(this,e,yn,bn,pe,{hidden:0})}}function kt(t){let e,n;return{c(){e=B("svg"),n=B("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","1.5"),s(e,"stroke","currentColor"),s(e,"class","aspect-square w-[1.2em] animate-spin inline")},m(r,l){C(r,e,l),f(e,n)},d(r){r&&k(e)}}}function kn(t){let e,n,r,l,i,u,a=t[0].step+"",c,o=t[0].is&&kt();return{c(){e=h("h1"),e.textContent="Waking up servers!",n=x(),r=h("p"),r.textContent=`Our servers take a little break every 5 minutes when things quiet down.
    We're in the process of waking them up for you. It's automatic, so no need
    to stress!`,l=x(),i=h("p"),o&&o.c(),u=x(),c=q(a),s(e,"class","text-xl"),s(r,"class","text-xs text-gray-500 inline"),s(i,"class","inline"),wt(i,"text-green-500",!t[0].is)},m(p,d){C(p,e,d),C(p,n,d),C(p,r,d),C(p,l,d),C(p,i,d),o&&o.m(i,null),f(i,u),f(i,c)},p(p,d){p[0].is?o||(o=kt(),o.c(),o.m(i,u)):o&&(o.d(1),o=null),d&1&&a!==(a=p[0].step+"")&&me(c,a),d&1&&wt(i,"text-green-500",!p[0].is)},d(p){p&&(k(e),k(n),k(r),k(l),k(i)),o&&o.d()}}}function $n(t){let e,n;return e=new Zt({props:{hidden:!t[0].is,$$slots:{default:[kn]},$$scope:{ctx:t}}}),{c(){ve(e.$$.fragment)},m(r,l){ue(e,r,l),n=!0},p(r,[l]){const i={};l&1&&(i.hidden=!r[0].is),l&9&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){n||(U(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){fe(e,r)}}}function xn(t,e,n){let r;const l=ut({step:"trying to make contact",is:!0});Ge(t,l,u=>n(0,r=u));let{handleWakeup:i}=e;return un(()=>{oe(l,r.step="waking up servers",r),he.getRoot().then(u=>{oe(l,r.is=!1,r),oe(l,r.step="servers are running!",r),i()}).catch(u=>{re(`unable to reach servers. err: ${u}`),oe(l,r.step="servers unreachable (reload?)",r)})}),t.$$set=u=>{"handleWakeup"in u&&n(2,i=u.handleWakeup)},[r,l,i]}class Cn extends ye{constructor(e){super(),be(this,e,xn,$n,pe,{handleWakeup:2})}}function Ln(t){let e,n,r,l,i,u,a,c,o,p,d,m,v,g,y,w,_,L,S,j,M,E,R,z,D,te;return e=new Cn({props:{handleWakeup:t[2]}}),{c(){ve(e.$$.fragment),n=x(),r=h("div"),l=h("div"),i=h("p"),i.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 inline"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"></path></svg>
      fill-in to continue`,u=x(),a=h("div"),c=h("div"),o=h("input"),p=x(),d=h("button"),d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 inline rounded-full"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg>',m=x(),v=h("div"),v.innerHTML='<span>copy your</span><svg xmlns="http://www.w3.org/2000/svg" class="w-[1em] inline" viewBox="-33.4974 -55.829 290.3108 334.974"><path d="M177.707 98.987c-35.992-21.375-95.36-23.34-129.719-12.912-5.519 1.674-11.353-1.44-13.024-6.958-1.672-5.521 1.439-11.352 6.96-13.029 39.443-11.972 105.008-9.66 146.443 14.936 4.964 2.947 6.59 9.356 3.649 14.31-2.944 4.963-9.359 6.6-14.31 3.653m-1.178 31.658c-2.525 4.098-7.883 5.383-11.975 2.867-30.005-18.444-75.762-23.788-111.262-13.012-4.603 1.39-9.466-1.204-10.864-5.8a8.717 8.717 0 015.805-10.856c40.553-12.307 90.968-6.347 125.432 14.833 4.092 2.52 5.38 7.88 2.864 11.968m-13.663 30.404a6.954 6.954 0 01-9.569 2.316c-26.22-16.025-59.223-19.644-98.09-10.766a6.955 6.955 0 01-8.331-5.232 6.95 6.95 0 015.233-8.334c42.533-9.722 79.017-5.538 108.448 12.446a6.96 6.96 0 012.31 9.57M111.656 0C49.992 0 0 49.99 0 111.656c0 61.672 49.992 111.66 111.657 111.66 61.668 0 111.659-49.988 111.659-111.66C223.316 49.991 173.326 0 111.657 0" fill="#1DB954"></path></svg><span>Spotify profile link from your account page</span>',g=x(),y=h("div"),w=h("label"),_=h("input"),L=x(),S=h("span"),S.textContent="persist",j=x(),M=h("button"),M.textContent="continue",E=x(),R=h("details"),R.innerHTML=`<summary class="font-bold mb-2">Cartier Manager: Free Spotify Playlist Downloader</summary> <p class="mb-4">Mobile-friendly, free-to-use Spotify playlist downloader. Share your
      Spotify profile link to effortlessly download all your public playlists.</p> <p>Powered by <code>spotify-dl</code> on our servers, Cartier finds and downloads
      songs from YouTube based on Spotify data.</p>`,s(i,"class","text-2xl"),s(o,"type","text"),s(o,"class","w-full"),s(o,"placeholder","type Spotify profile link"),s(o,"autocomplete","url"),s(o,"aria-label","type spotify profile link"),s(d,"class","bg-zinc-500"),s(d,"aria-label","paste from clipboard"),s(c,"class","w-full flex flex-row items-center justify-center space-x-2"),s(v,"class","text-xs svg-icon"),s(a,"class","flex flex-col items-center justify-center"),s(_,"type","checkbox"),s(_,"class","inline"),s(S,"class","align-middle"),s(w,"for","persisting userid"),s(w,"class","text-base flex flex-row space-x-2 bg-gray-950 p-3 rounded-md"),s(M,"class","hover:scale-110"),s(y,"class","flex flex-row items-center justify-center space-x-3"),s(l,"class","flex flex-col items-center text-center justify-center bg-zinc-950/50 ring-1 ring-zinc-500 rounded-md w-11/12 space-y-7 p-3"),s(R,"class","text-sm w-11/12"),s(r,"class","flex flex-col justify-center items-center w-full h-full")},m(A,F){ue(e,A,F),C(A,n,F),C(A,r,F),f(r,l),f(l,i),f(l,u),f(l,a),f(a,c),f(c,o),mt(o,t[0]),f(c,p),f(c,d),f(a,m),f(a,v),f(l,g),f(l,y),f(y,w),f(w,_),_.checked=t[1],f(w,L),f(w,S),f(y,j),f(y,M),f(r,E),f(r,R),z=!0,D||(te=[ae(o,"input",t[6]),ae(d,"click",t[3]),ae(_,"change",t[7]),ae(M,"click",t[4])],D=!0)},p(A,[F]){F&1&&o.value!==A[0]&&mt(o,A[0]),F&2&&(_.checked=A[1])},i(A){z||(U(e.$$.fragment,A),z=!0)},o(A){W(e.$$.fragment,A),z=!1},d(A){A&&(k(n),k(r)),fe(e,A),D=!1,de(te)}}}function jn(t,e,n){const r=()=>{const d=localStorage.getItem("cartier-userid");console.info("performing auto login for",d),d&&re("performing auto-login",!0,5,m=>{l(d,()=>{m()})})};let{handleUsername:l}=e,i="",u=!0;const a=async()=>{navigator.clipboard.readText&&n(0,i=await navigator.clipboard.readText())},c=()=>{let d;try{d=new URL(i)}catch{n(0,i="");return}const m=d.pathname.split("/")[2];u&&(localStorage.setItem("cartier-userid",m),re("login information saved!")),l(m)};function o(){i=this.value,n(0,i)}function p(){u=this.checked,n(1,u)}return t.$$set=d=>{"handleUsername"in d&&n(5,l=d.handleUsername)},[i,u,r,a,c,l,o,p]}class Mn extends ye{constructor(e){super(),be(this,e,jn,Ln,pe,{handleUsername:5})}}function $t(t){return Object.prototype.toString.call(t)==="[object Date]"}function st(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((l,i)=>st(t[i],l));return l=>r.map(i=>i(l))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if($t(t)&&$t(e)){t=t.getTime(),e=e.getTime();const i=e-t;return u=>new Date(t+u*i)}const r=Object.keys(e),l={};return r.forEach(i=>{l[i]=st(t[i],e[i])}),i=>{const u={};return r.forEach(a=>{u[a]=l[a](i)}),u}}if(n==="number"){const r=e-t;return l=>t+l*r}throw new Error(`Cannot interpolate ${n} values`)}function Sn(t,e={}){const n=ut(t);let r,l=t;function i(u,a){if(t==null)return n.set(t=u),Promise.resolve();l=u;let c=r,o=!1,{delay:p=0,duration:d=400,easing:m=Ht,interpolate:v=st}=rt(rt({},e),a);if(d===0)return c&&(c.abort(),c=null),n.set(t=l),Promise.resolve();const g=Pt()+p;let y;return r=Tt(w=>{if(w<g)return!0;o||(y=v(t,u),typeof d=="function"&&(d=d(t,u)),o=!0),c&&(c.abort(),c=null);const _=w-g;return _>d?(n.set(t=u),!1):(n.set(t=y(m(_/d))),!0)}),r.promise}return{set:i,update:(u,a)=>i(u(l,t),a),subscribe:n.subscribe}}function xt(t,e,n){const r=t.slice();return r[11]=e[n],r}function An(t){let e,n;return{c(){e=B("svg"),n=B("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","1.5"),s(e,"stroke","currentColor"),s(e,"class","w-[10vh] h-[10vh]")},m(r,l){C(r,e,l),f(e,n)},p:T,d(r){r&&k(e)}}}function Bn(t){let e,n;return{c(){e=h("img"),s(e,"loading","lazy"),Be(e.src,n=t[0].images[0].url)||s(e,"src",n),s(e,"class","rounded-full max-h-[10vh] shadow-black shadow-lg ring-1 ring-black"),s(e,"alt","playlist's cover")},m(r,l){C(r,e,l)},p(r,l){l&1&&!Be(e.src,n=r[0].images[0].url)&&s(e,"src",n)},d(r){r&&k(e)}}}function Hn(t){let e,n;return{c(){e=B("svg"),n=B("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","m19.5 8.25-7.5 7.5-7.5-7.5"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","4"),s(e,"stroke","currentColor"),s(e,"class","w-[1.2em] text-xs aspect-square")},m(r,l){C(r,e,l),f(e,n)},d(r){r&&k(e)}}}function En(t){let e,n;return{c(){e=B("svg"),n=B("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","m4.5 15.75 7.5-7.5 7.5 7.5"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","3"),s(e,"stroke","currentColor"),s(e,"class","w-[1.2em] aspect-square text-xs")},m(r,l){C(r,e,l),f(e,n)},d(r){r&&k(e)}}}function In(t){let e;return{c(){e=q("download")},m(n,r){C(n,e,r)},p:T,d(n){n&&k(e)}}}function On(t){let e;return{c(){e=q("downloaded")},m(n,r){C(n,e,r)},p:T,d(n){n&&k(e)}}}function Pn(t){let e,n,r,l;function i(c,o){return c[3].stage=="downloading"?Tn:Un}let u=i(t),a=u(t);return{c(){e=B("svg"),n=B("path"),r=x(),a.c(),l=ct(),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","1.5"),s(e,"stroke","currentColor"),s(e,"class","w-4 h-4 inline animate-spin")},m(c,o){C(c,e,o),f(e,n),C(c,r,o),a.m(c,o),C(c,l,o)},p(c,o){u!==(u=i(c))&&(a.d(1),a=u(c),a&&(a.c(),a.m(l.parentNode,l)))},d(c){c&&(k(e),k(r),k(l)),a.d(c)}}}function Un(t){let e;return{c(){e=q("converting")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Tn(t){let e;return{c(){e=q("downloading")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Ct(t){let e,n,r;return{c(){e=h("button"),e.textContent="save",s(e,"class","text-xs p-1")},m(l,i){C(l,e,i),n||(r=ae(e,"click",t[8]),n=!0)},p:T,d(l){l&&k(e),n=!1,r()}}}function Lt(t){let e,n,r,l=t[1].tracks.total+"",i,u,a,c,o,p=He(t[1].tracks.items),d=[];for(let m=0;m<p.length;m+=1)d[m]=jt(xt(t,p,m));return{c(){e=h("div"),n=h("div"),r=h("div"),i=q(l),u=q(" tracks"),a=x();for(let m=0;m<d.length;m+=1)d[m].c();s(r,"class","bg-zinc-950 rounded-full text-white p-2"),s(n,"class","overflow-hidden overflow-x-scroll flex flex-row items-center space-x-2 p-1 relative"),s(e,"class","col-span-4 bg-zinc-500/10 rounded-md mx-2 text-xs flex flex-row justify-center")},m(m,v){C(m,e,v),f(e,n),f(n,r),f(r,i),f(r,u),f(n,a);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(n,null);o=!0},p(m,v){if((!o||v&2)&&l!==(l=m[1].tracks.total+"")&&me(i,l),v&10){p=He(m[1].tracks.items);let g;for(g=0;g<p.length;g+=1){const y=xt(m,p,g);d[g]?d[g].p(y,v):(d[g]=jt(y),d[g].c(),d[g].m(n,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=p.length}},i(m){o||(m&&we(()=>{o&&(c||(c=_e(e,Ee,{duration:250},!0)),c.run(1))}),o=!0)},o(m){m&&(c||(c=_e(e,Ee,{duration:250},!1)),c.run(0)),o=!1},d(m){m&&k(e),at(d,m),m&&c&&c.end()}}}function zn(t){let e;return{c(){e=h("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[5vh] h-[5vh]"><path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"></path></svg> ',s(e,"class","ring-1 ring-black shadow-md shadow-black rounded-full")},m(n,r){C(n,e,r)},p:T,d(n){n&&k(e)}}}function Dn(t){let e,n,r;return{c(){e=h("img"),s(e,"loading","lazy"),Be(e.src,n=t[11].track.album.images[0].url)||s(e,"src",n),s(e,"class",r="aspect-square h-[5vh] rounded-full ring-1 ring-black shadow-sm shadow-black will-change-auto "+(t[3].is?(t[3].statuses[t[11].track.id]=="downloading"?" rotating-image":"")+(t[3].statuses[t[11].track.id]=="ready"?" shadow-green-500 ring-green-500":"")+(t[3].statuses[t[11].track.id]=="failed"?" shadow-red-500 ring-red-500":""):"")),s(e,"alt","album")},m(l,i){C(l,e,i)},p(l,i){i&2&&!Be(e.src,n=l[11].track.album.images[0].url)&&s(e,"src",n),i&10&&r!==(r="aspect-square h-[5vh] rounded-full ring-1 ring-black shadow-sm shadow-black will-change-auto "+(l[3].is?(l[3].statuses[l[11].track.id]=="downloading"?" rotating-image":"")+(l[3].statuses[l[11].track.id]=="ready"?" shadow-green-500 ring-green-500":"")+(l[3].statuses[l[11].track.id]=="failed"?" shadow-red-500 ring-red-500":""):""))&&s(e,"class",r)},d(l){l&&k(e)}}}function jt(t){let e;function n(i,u){return i[11].track&&i[11].track.album.images.length>0?Dn:zn}let r=n(t),l=r(t);return{c(){l.c(),e=ct()},m(i,u){l.m(i,u),C(i,e,u)},p(i,u){r===(r=n(i))&&l?l.p(i,u):(l.d(1),l=r(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){i&&k(e),l.d(i)}}}function Nn(t){let e,n,r,l,i,u,a,c,o,p=t[0].name+"",d,m,v,g,y,w,_,L=(t[0].description||`by ${t[0].owner.display_name}`)+"",S,j,M,E,R,z,D,te,A,F=t[4]&&Object.keys(t[1]).length>0,ee,H;function V(b,N){return b[0].images.length>0?Bn:An}let Q=V(t),J=Q(t);function Ie(b,N){return b[4]?En:Hn}let ne=Ie(t),G=ne(t);function X(b,N){return b[3].is?Pn:b[2].length>0?On:In}let le=X(t),K=le(t),Z=t[2].length>0&&!t[3].is&&Ct(t),P=F&&Lt(t);return{c(){e=h("div"),n=h("div"),l=x(),i=h("div"),u=h("div"),J.c(),a=x(),c=h("div"),o=h("a"),d=q(p),m=x(),v=B("svg"),g=B("path"),w=x(),_=h("p"),S=q(L),j=x(),M=h("div"),E=h("button"),G.c(),R=x(),z=h("button"),K.c(),te=x(),Z&&Z.c(),A=x(),P&&P.c(),s(n,"class","h-1 absolute backdrop-opacity-50 bg-aodPurple rounded-sm left-0 bottom-0 z-50"),Fe(n,"width",t[5]/100*90+"vw"),n.hidden=r=!t[3].is,s(u,"class","col-span-1 flex flex-col items-center justify-center"),s(g,"stroke-linecap","round"),s(g,"stroke-linejoin","round"),s(g,"d","M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),s(v,"xmlns","http://www.w3.org/2000/svg"),s(v,"fill","none"),s(v,"viewBox","0 0 24 24"),s(v,"stroke-width","1.5"),s(v,"stroke","currentColor"),s(v,"class","w-4 h-4 inline"),s(o,"class","hover:scale-110 duration-75 text-left line-clamp-1"),s(o,"href",y=t[0].external_urls.spotify),s(o,"target","_blank"),s(_,"class","text-xs line-clamp-1 text-gray-300"),s(E,"class","bg-transparent text-white ring-1 p-1 ring-zinc-500 hover:scale-110"),s(E,"aria-label","show more"),s(z,"class","text-xs bg-aodPurple p-1"),z.disabled=D=t[3].is||t[2].length>0,s(M,"class","flex flex-row space-x-2 mt-1"),s(c,"class","col-span-3 flex flex-col justify-center items-start"),s(i,"class","grid grid-cols-4 w-full gap-1"),s(e,"class","bg-gray-950/50 ring-1 ring-zinc-500 py-2 rounded-md w-[90vw] text-center relative")},m(b,N){C(b,e,N),f(e,n),f(e,l),f(e,i),f(i,u),J.m(u,null),f(i,a),f(i,c),f(c,o),f(o,d),f(o,m),f(o,v),f(v,g),f(c,w),f(c,_),f(_,S),f(c,j),f(c,M),f(M,E),G.m(E,null),f(M,R),f(M,z),K.m(z,null),f(M,te),Z&&Z.m(M,null),f(i,A),P&&P.m(i,null),ee||(H=[ae(E,"click",t[7]),ae(z,"click",t[9])],ee=!0)},p(b,[N]){N&32&&Fe(n,"width",b[5]/100*90+"vw"),N&8&&r!==(r=!b[3].is)&&(n.hidden=r),Q===(Q=V(b))&&J?J.p(b,N):(J.d(1),J=Q(b),J&&(J.c(),J.m(u,null))),N&1&&p!==(p=b[0].name+"")&&me(d,p),N&1&&y!==(y=b[0].external_urls.spotify)&&s(o,"href",y),N&1&&L!==(L=(b[0].description||`by ${b[0].owner.display_name}`)+"")&&me(S,L),ne!==(ne=Ie(b))&&(G.d(1),G=ne(b),G&&(G.c(),G.m(E,null))),le===(le=X(b))&&K?K.p(b,N):(K.d(1),K=le(b),K&&(K.c(),K.m(z,null))),N&12&&D!==(D=b[3].is||b[2].length>0)&&(z.disabled=D),b[2].length>0&&!b[3].is?Z?Z.p(b,N):(Z=Ct(b),Z.c(),Z.m(M,null)):Z&&(Z.d(1),Z=null),N&18&&(F=b[4]&&Object.keys(b[1]).length>0),F?P?(P.p(b,N),N&18&&U(P,1)):(P=Lt(b),P.c(),U(P,1),P.m(i,null)):P&&(Ke(),W(P,1,1,()=>{P=null}),Ye())},i(b){U(P)},o(b){W(P)},d(b){b&&k(e),J.d(),G.d(),K.d(),Z&&Z.d(),P&&P.d(),ee=!1,de(H)}}}function Zn(t,e,n){let r,l={},i=[],{playlist:u}=e;const a={is:!1,statuses:{},stage:""};let c=!1,o=Sn(0,{duration:1e3,easing:Nt});Ge(t,o,g=>n(5,r=g));const p=()=>{c==!1?(Object.keys(l).length==0&&d(),n(4,c=!0)):n(4,c=!1)},d=async()=>{const g=u.external_urls.spotify,w=new URL(g).pathname.split("/")[2];re("loading playlist info",!0,1,async _=>{let L=await he.getPlaylistInfo(w);n(1,l=L),_()})},m=()=>{i.forEach(({blob:g,trackid:y},w)=>{const _=URL.createObjectURL(g),L=document.createElement("a");L.href=_,L.download=`${y}.mp3`,L.click()})},v=async()=>{if(Object.keys(l).length==0&&await d(),!l.tracks)return;if(l.tracks.items.length==0){re("cannot download empty playlist");return}n(3,a.is=!0,a),n(3,a.stage="converting",a),o.set(0,{duration:1}),o.set(10,{duration:1e4});let g=l.tracks.items[0].track;he.getDownloadTrack(g.external_urls.spotify,"",!0).then(async y=>{if(y.success==!1){oe(o,r=0,r),n(3,a.is=!1,a),re(`serverErr: ${y.info}`);return}const w=y.data.key;n(3,a.statuses[g.id]="downloading",a);for(const[L,{track:S}]of[...l.tracks.items].splice(1).entries())S&&n(3,a.statuses[S.id]="downloading",a),(await he.getDownloadTrack(S.external_urls.spotify,w,!1)).success==!1&&re(`failed downloading track (${S.name})`);await o.set(10);const _=setInterval(async()=>{let L=await he.getDownloadStatus(w);const S=L.data.filter(j=>j.status!=="downloading");if(L.data.forEach(j=>{n(3,a.statuses[j.id]=j.status,a)}),oe(o,r=S.length/L.data.length*40+10,r),S.length==L.data.length){n(3,a.stage="downloading",a),clearInterval(_);for(let j=0;j<S.length;j++){let[M,E,R]=await he.getStreamPlaylist(w);if(!M){re(`failed downloading a track (in "${u.name}")`);continue}n(2,i=[...i,{blob:E,trackid:R}]),oe(o,r=(j+1)/S.length*50+50,r)}await o.set(100,{duration:500}),n(3,a.is=!1,a)}},7500)})};return t.$$set=g=>{"playlist"in g&&n(0,u=g.playlist)},[u,l,i,a,c,r,o,p,m,v]}class qn extends ye{constructor(e){super(),be(this,e,Zn,Nn,pe,{playlist:0})}}function Mt(t,e,n){const r=t.slice();return r[2]=e[n][0],r[3]=e[n][1],r}function Fn(t){let e,n;return{c(){e=B("svg"),n=B("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","1.5"),s(e,"stroke","currentColor"),s(e,"class","w-[1em]")},m(r,l){C(r,e,l),f(e,n)},d(r){r&&k(e)}}}function St(t){let e,n,r=t[2].startsWith("r"),l,i=t[2].slice(1).split("_").join(" ")+"",u,a,c,o=r&&Fn();return{c(){e=h("tr"),n=h("td"),o&&o.c(),l=x(),u=q(i),a=x(),c=h("td"),c.textContent=`${t[3]}`,s(n,"class","svg-icon p-2"),s(c,"class","bg-gray-950 border-l-2 border-gray-900"),s(e,"class","odd:bg-gray-900 even:bg-gray-950")},m(p,d){C(p,e,d),f(e,n),o&&o.m(n,null),f(n,l),f(n,u),f(e,a),f(e,c)},p:T,d(p){p&&k(e),o&&o.d()}}}function Rn(t){let e,n,r,l,i,u,a=He(Object.entries(t[1])),c=[];for(let o=0;o<a.length;o+=1)c[o]=St(Mt(t,a,o));return{c(){e=h("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg> <h1>Settings</h1>',n=x(),r=h("table"),l=h("thead"),l.innerHTML="<th>parameter</th><th>value</th>",i=x(),u=h("tbody");for(let o=0;o<c.length;o+=1)c[o].c();s(e,"class","text-xl mb-2 svg-icon"),s(l,"class","border-b-2 border-gray-900"),s(r,"class","text-sm ring-1 ring-zinc-500 rounded-md")},m(o,p){C(o,e,p),C(o,n,p),C(o,r,p),f(r,l),f(r,i),f(r,u);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(u,null)},p(o,p){if(p&2){a=He(Object.entries(o[1]));let d;for(d=0;d<a.length;d+=1){const m=Mt(o,a,d);c[d]?c[d].p(m,p):(c[d]=St(m),c[d].c(),c[d].m(u,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=a.length}},d(o){o&&(k(e),k(n),k(r)),at(c,o)}}}function Wn(t){let e,n;return e=new Zt({props:{hidden:t[0],$$slots:{default:[Rn]},$$scope:{ctx:t}}}),{c(){ve(e.$$.fragment)},m(r,l){ue(e,r,l),n=!0},p(r,[l]){const i={};l&1&&(i.hidden=r[0]),l&64&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){n||(U(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){fe(e,r)}}}function Vn(t,e,n){let{hidden:r}=e,l={rsaved_userid:localStorage.getItem("cartier-userid")||"not saved",rserver_url:window["cartier-server-url"],wthank_you_for:"using this app during it's beta days!"};return t.$$set=i=>{"hidden"in i&&n(0,r=i.hidden)},[r,l]}class Gn extends ye{constructor(e){super(),be(this,e,Vn,Wn,pe,{hidden:0})}}const Ue=ut({loggedIn:!1,user:{},playlists:{}});function Kn(t){let e,n;return{c(){e=B("svg"),n=B("circle"),s(n,"cx","50"),s(n,"cy","50"),s(n,"r","50"),s(e,"viewBox","0 0 100 100"),s(e,"class","w-[0.2em] fill-white")},m(r,l){C(r,e,l),f(e,n)},p:T,i:T,o:T,d(r){r&&k(e)}}}class Yn extends ye{constructor(e){super(),be(this,e,null,Kn,pe,{})}}function At(t,e,n){const r=t.slice();return r[4]=e[n],r}function Jn(t){let e,n;return{c(){e=B("svg"),n=B("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"d","M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke-width","1.5"),s(e,"stroke","currentColor"),s(e,"class","w-[15vw] max-w-[10vh] aspect-square rounded-full ring-aodBg ring-2")},m(r,l){C(r,e,l),f(e,n)},p:T,d(r){r&&k(e)}}}function Qn(t){let e,n,r;return{c(){e=h("img"),s(e,"loading","lazy"),Be(e.src,n=t[1].user.images[1].url)||s(e,"src",n),s(e,"alt",r=`${t[1].user.display_name}'s profile picture`),s(e,"class","rounded-full w-[15vw] max-w-[10vh] ring-aodBg ring-1 shadow-sm shadow-black aspect-square")},m(l,i){C(l,e,i)},p(l,i){i&2&&!Be(e.src,n=l[1].user.images[1].url)&&s(e,"src",n),i&2&&r!==(r=`${l[1].user.display_name}'s profile picture`)&&s(e,"alt",r)},d(l){l&&k(e)}}}function Bt(t){let e,n;return e=new qn({props:{playlist:t[4]}}),{c(){ve(e.$$.fragment)},m(r,l){ue(e,r,l),n=!0},p(r,l){const i={};l&2&&(i.playlist=r[4]),e.$set(i)},i(r){n||(U(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){fe(e,r)}}}function Xn(t){let e,n,r,l,i,u,a=t[1].user.display_name+"",c,o,p,d,m,v=t[1].user.followers.total+"",g,y,w,_,L,S,j,M,E,R=t[1].playlists.total+"",z,D,te,A,F,ee,H,V,Q=t[1].user.id+"",J,Ie,ne,G,X,le,K,Z,P,b,N,ze,ke,ge,ft,Je,Qe,$e,se,Xe,dt;function pt($,O){return $[1].user.images.length==2?Qn:Jn}let De=pt(t),ie=De(t);j=new Yn({});let xe=He(t[1].playlists.items),I=[];for(let $=0;$<xe.length;$+=1)I[$]=Bt(At(t,xe,$));const Ft=$=>W(I[$],1,1,()=>{I[$]=null});return $e=new Gn({props:{hidden:!t[0]}}),{c(){e=h("div"),n=h("div"),r=h("div"),ie.c(),l=x(),i=h("div"),u=h("p"),c=q(a),o=x(),p=h("div"),d=h("div"),m=h("p"),g=q(v),y=x(),w=B("svg"),_=B("path"),L=B("path"),S=x(),ve(j.$$.fragment),M=x(),E=h("p"),z=q(R),D=q(" playlists"),te=x(),A=h("div"),F=B("svg"),ee=B("path"),H=x(),V=h("span"),J=q(Q),Ie=x(),ne=h("div"),G=h("button"),X=B("svg"),le=B("path"),K=B("path"),P=x(),b=h("button"),b.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"></path></svg>',N=x(),ze=h("div"),ke=h("div");for(let $=0;$<I.length;$+=1)I[$].c();ft=x(),Je=h("div"),Qe=x(),ve($e.$$.fragment),s(u,"class","font-semibold"),Fe(u,"text-shadow","4px 3px 8px rgba(0,0,0,1)"),s(_,"fill-rule","evenodd"),s(_,"d","M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z"),s(_,"clip-rule","evenodd"),s(L,"d","M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"),s(w,"xmlns","http://www.w3.org/2000/svg"),s(w,"viewBox","0 0 24 24"),s(w,"fill","currentColor"),s(w,"class","w-[1em] inline"),s(d,"class","svg-icon"),s(p,"class","flex flex-row justify-center items-center space-x-2 text-xs text-gray-300"),s(ee,"d","M177.707 98.987c-35.992-21.375-95.36-23.34-129.719-12.912-5.519 1.674-11.353-1.44-13.024-6.958-1.672-5.521 1.439-11.352 6.96-13.029 39.443-11.972 105.008-9.66 146.443 14.936 4.964 2.947 6.59 9.356 3.649 14.31-2.944 4.963-9.359 6.6-14.31 3.653m-1.178 31.658c-2.525 4.098-7.883 5.383-11.975 2.867-30.005-18.444-75.762-23.788-111.262-13.012-4.603 1.39-9.466-1.204-10.864-5.8a8.717 8.717 0 015.805-10.856c40.553-12.307 90.968-6.347 125.432 14.833 4.092 2.52 5.38 7.88 2.864 11.968m-13.663 30.404a6.954 6.954 0 01-9.569 2.316c-26.22-16.025-59.223-19.644-98.09-10.766a6.955 6.955 0 01-8.331-5.232 6.95 6.95 0 015.233-8.334c42.533-9.722 79.017-5.538 108.448 12.446a6.96 6.96 0 012.31 9.57M111.656 0C49.992 0 0 49.99 0 111.656c0 61.672 49.992 111.66 111.657 111.66 61.668 0 111.659-49.988 111.659-111.66C223.316 49.991 173.326 0 111.657 0"),s(ee,"fill","#1DB954"),s(F,"xmlns","http://www.w3.org/2000/svg"),s(F,"class","w-[1em] inline"),s(F,"viewBox","-33.4974 -55.829 290.3108 334.974"),s(V,"class","text-ellipsis"),s(A,"class","text-xs select-text svg-icon text-gray-300"),s(i,"class","flex flex-col justify-center items-start"),s(r,"class","flex flex-row items-center justify-center space-x-2"),s(le,"stroke-linecap","round"),s(le,"stroke-linejoin","round"),s(le,"d","M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"),s(K,"stroke-linecap","round"),s(K,"stroke-linejoin","round"),s(K,"d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),s(X,"xmlns","http://www.w3.org/2000/svg"),s(X,"fill","none"),s(X,"viewBox","0 0 24 24"),s(X,"stroke-width","1.5"),s(X,"stroke","currentColor"),s(X,"class","w-[1em] inline"),s(G,"class",Z="bg-gray-950 text-white svg-icon "+(t[0]?"invert":"")),s(G,"aria-label","settings"),s(b,"class","bg-red-500 text-black svg-icon"),s(b,"aria-label","logout"),s(ne,"class","flex flex-row justify-center items-center space-x-1 px-1"),s(n,"class","flex flex-row justify-center items-center h-[13vh] space-x-5 bg-gradient-to-t from-gray-950/50 backdrop-blur-sm to-zinc-500 w-[90vw] rounded-t-md ring-1 ring-zinc-500 z-50"),s(ke,"class","flex flex-col justify-center items-center w-full space-y-2 pb-1"),s(ze,"class","h-[70vh] overflow-y-scroll w-[100vw]"),s(Je,"class","backdrop-opacity-100 rounded-full backdrop-blur-sm w-[95vw] h-5 absolute bottom-0 left-auto right-auto"),s(e,"class","flex flex-col items-center -space-y-1")},m($,O){C($,e,O),f(e,n),f(n,r),ie.m(r,null),f(r,l),f(r,i),f(i,u),f(u,c),f(i,o),f(i,p),f(p,d),f(d,m),f(m,g),f(d,y),f(d,w),f(w,_),f(w,L),f(p,S),ue(j,p,null),f(p,M),f(p,E),f(E,z),f(E,D),f(i,te),f(i,A),f(A,F),f(F,ee),f(A,H),f(A,V),f(V,J),f(n,Ie),f(n,ne),f(ne,G),f(G,X),f(X,le),f(X,K),f(ne,P),f(ne,b),f(e,N),f(e,ze),f(ze,ke);for(let Ce=0;Ce<I.length;Ce+=1)I[Ce]&&I[Ce].m(ke,null);f(e,ft),f(e,Je),C($,Qe,O),ue($e,$,O),se=!0,Xe||(dt=[ae(G,"click",t[3]),ae(b,"click",t[2])],Xe=!0)},p($,[O]){if(De===(De=pt($))&&ie?ie.p($,O):(ie.d(1),ie=De($),ie&&(ie.c(),ie.m(r,l))),(!se||O&2)&&a!==(a=$[1].user.display_name+"")&&me(c,a),(!se||O&2)&&v!==(v=$[1].user.followers.total+"")&&me(g,v),(!se||O&2)&&R!==(R=$[1].playlists.total+"")&&me(z,R),(!se||O&2)&&Q!==(Q=$[1].user.id+"")&&me(J,Q),(!se||O&1&&Z!==(Z="bg-gray-950 text-white svg-icon "+($[0]?"invert":"")))&&s(G,"class",Z),O&2){xe=He($[1].playlists.items);let Y;for(Y=0;Y<xe.length;Y+=1){const gt=At($,xe,Y);I[Y]?(I[Y].p(gt,O),U(I[Y],1)):(I[Y]=Bt(gt),I[Y].c(),U(I[Y],1),I[Y].m(ke,null))}for(Ke(),Y=xe.length;Y<I.length;Y+=1)Ft(Y);Ye()}const Ce={};O&1&&(Ce.hidden=!$[0]),$e.$set(Ce)},i($){if(!se){U(j.$$.fragment,$);for(let O=0;O<xe.length;O+=1)U(I[O]);$&&we(()=>{se&&(ge||(ge=_e(ke,Ee,{duration:1e3},!0)),ge.run(1))}),U($e.$$.fragment,$),se=!0}},o($){W(j.$$.fragment,$),I=I.filter(Boolean);for(let O=0;O<I.length;O+=1)W(I[O]);$&&(ge||(ge=_e(ke,Ee,{duration:1e3},!1)),ge.run(0)),W($e.$$.fragment,$),se=!1},d($){$&&(k(e),k(Qe)),ie.d(),fe(j),at(I,$),$&&ge&&ge.end(),fe($e,$),Xe=!1,de(dt)}}}function er(t,e,n){let r;Ge(t,Ue,a=>n(1,r=a));let l=!0;return[l,r,()=>{localStorage.removeItem("cartier-userid"),oe(Ue,r.loggedIn=!1,r)},()=>{n(0,l=!l)}]}class tr extends ye{constructor(e){super(),be(this,e,er,Xn,pe,{})}}function nr(t){let e,n;return e=new tr({}),{c(){ve(e.$$.fragment)},m(r,l){ue(e,r,l),n=!0},p:T,i(r){n||(U(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){fe(e,r)}}}function rr(t){let e,n;return e=new Mn({props:{handleUsername:t[1]}}),{c(){ve(e.$$.fragment)},m(r,l){ue(e,r,l),n=!0},p:T,i(r){n||(U(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){fe(e,r)}}}function lr(t){let e;return{c(){e=h("span"),e.textContent="prod",s(e,"class","rounded-sm p-0.5 bg-blue-600")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function sr(t){let e,n,r,l,i,u,a,c,o,p,d,m,v,g,y,w,_,L,S,j,M,E,R;const z=[rr,nr],D=[];function te(H,V){return H[0].loggedIn==!1?0:1}p=te(t),d=D[p]=z[p](t);function A(H,V){return lr}let ee=A()(t);return{c(){e=h("div"),n=x(),r=h("main"),l=h("div"),l.innerHTML='<a href="https://github.com/reold" target="_blank" aria-label="goto reold&#39;s page" class="bg-aodPurple shadow-sm text-gray-950 shadow-gray-950 rounded-md p-2 ml-2 h-11/12 flex flex-col items-center justify-center"><svg class="h-[0.75em]" viewBox="0 0 146 28" xmlns="http://www.w3.org/2000/svg"><path d="M0.028144 14.6351C0.00946983 14.5455 0.00319455 14.4537 0.00949413 14.3623L0.935779 0.931198C0.971941 0.406861 1.40783 0 1.93341 0H27.6172C28.1215 0 28.5469 0.375536 28.6095 0.875965L29.8983 11.1865C29.9574 11.6595 29.6745 12.1085 29.2223 12.2592L26.8461 13.0513C25.7699 13.41 26.0279 15 27.1623 15H27.7891C28.2147 15 28.5937 15.2694 28.7336 15.6715L32.5 26.5L32.0196 1.51923C32.0088 0.959521 32.4596 0.5 33.0194 0.5H58.8672C59.4687 0.5 59.9341 1.02718 59.8595 1.62403L59.0947 7.7421C59.0388 8.18957 58.6903 8.54424 58.2439 8.60802L52.7135 9.39807C52.2874 9.45894 51.8702 9.24032 51.6777 8.85533L49.8879 5.27573C49.6653 4.83062 49.1493 4.61689 48.6772 4.77426L47.0077 5.33076C46.6905 5.43649 46.4472 5.69375 46.3592 6.01633L45.3445 9.73688C45.171 10.373 45.6499 11 46.3093 11H54.0723C54.7663 11 55.2493 11.6896 55.0121 12.3417L53.7538 15.8021C53.6031 16.2165 53.1988 16.4833 52.7585 16.4588L45.464 16.0536C44.9262 16.0237 44.4614 16.4251 44.4126 16.9615L44.1056 20.3387C44.0501 20.9492 44.552 21.4655 45.1638 21.4273L51.3857 21.0384C51.7624 21.0148 52.0938 20.7812 52.2425 20.4343L53.2161 18.1625C53.3856 17.7669 53.7893 17.5241 54.2183 17.5599L59.5 18L58.1458 25.6738C58.0615 26.1516 57.6463 26.5 57.161 26.5H32.5H19.3346C18.8513 26.5 18.4372 26.1544 18.3507 25.6789L17.5502 21.2759C17.5174 21.0954 17.4356 20.9275 17.3137 20.7904L15.2474 18.4658C14.6365 17.7786 13.5 18.2107 13.5 19.1302V25.5C13.5 26.0523 13.0523 26.5 12.5 26.5H3.31314C2.83946 26.5 2.43077 26.1677 2.33416 25.704L0.028144 14.6351Z" fill="url(#paint0_linear_2_5)"></path><path d="M59.5 18V11.3124C59.5 11.109 59.562 10.9104 59.6778 10.7432L63.8477 4.71999C63.9475 4.57586 64.0834 4.4605 64.2418 4.38546L73.2968 0.0962621C73.4306 0.0328787 73.5768 0 73.7249 0H84.4064C84.7723 0 85.109 0.199887 85.2843 0.521148L88 5.5L88.826 1.78307C88.9277 1.32553 89.3335 1 89.8022 1H101.839C102.45 1 102.918 1.54374 102.828 2.14834L100.149 20.0041C100.067 20.553 100.447 21.0639 100.997 21.1424L106.376 21.9109C106.757 21.9653 107.136 21.796 107.35 21.4756L109.67 17.9951C109.873 17.69 110.227 17.5207 110.593 17.5539L115.5 18V1.93112C115.5 1.40648 115.905 0.971039 116.429 0.93366L129.388 0.00801164C129.462 0.00268732 129.537 0.00573536 129.611 0.0170986L141.886 1.90548C142.262 1.96336 142.573 2.22978 142.687 2.59273L145.354 11.0381C145.446 11.3298 145.4 11.6477 145.228 11.9008L136.288 25.0761C136.107 25.3423 135.809 25.5053 135.488 25.5142L118.757 25.979C118.309 25.9914 117.908 25.7049 117.774 25.2776L115.5 18L113.689 25.2425C113.578 25.6877 113.178 26 112.719 26H89.905C89.3912 26 88.9611 25.6107 88.91 25.0995L88 16L81.673 23.7871C81.5598 23.9265 81.4111 24.0328 81.2426 24.0948L72.2892 27.3934C72.1008 27.4629 71.8958 27.474 71.701 27.4252L64.4018 25.6005C64.1445 25.5361 63.9233 25.3722 63.7869 25.1448L59.5 18Z" fill="url(#paint1_linear_2_5)"></path><defs><linearGradient id="paint0_linear_2_5" x1="72.75" y1="0" x2="72.75" y2="27.5" gradientUnits="userSpaceOnUse"><stop></stop><stop offset="1" stop-opacity="0.5"></stop></linearGradient><linearGradient id="paint1_linear_2_5" x1="72.75" y1="0" x2="72.75" y2="27.5" gradientUnits="userSpaceOnUse"><stop></stop><stop offset="1" stop-opacity="0.5"></stop></linearGradient></defs></svg></a> <p class="text-3xl">Cartier Manager</p>',i=x(),u=h("div"),a=h("div"),o=x(),d.c(),m=x(),v=h("div"),g=h("p"),ee.c(),y=q(`
      built by
      `),w=h("a"),w.textContent="reold",_=q(`.
      `),L=h("button"),L.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"></path></svg>
        use render`,S=x(),j=h("a"),j.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"></path></svg> <span>report issue</span>',s(e,"class","bg-black opacity-75 p-1 rounded-md w-[80vw] max-w-[90vw] z-[1000]"),Fe(e,"display","none"),s(l,"class","flex flex-row items-center justify-evenly font-bold h-[10vh] bg-gray-950 ring-1 ring-zinc-500 shadow-xl"),s(a,"class","absolute left-0 top-0 w-full flex flex-col items-center justify-center space-y-1 text-xs"),s(u,"class","flex flex-col space-y-1 items-center relative h-[85vh] bg-gradient-to-t from-gray-950 via-[#203A43] to-gray-950"),s(w,"href","https://github.com/reold"),s(w,"target","_blank"),s(w,"class","text-blue-600"),s(L,"aria-label","use alternative render service servers"),s(L,"class","p-0 bg-transparent text-orange-600 text-xs disabled:animate-pulse"),s(j,"href","https://github.com/reold/cartier/issues/new"),s(j,"target","_blank"),s(j,"class","text-blue-600"),s(v,"class","w-full h-[5vh] bg-gray-950 text-xs flex flex-col items-center justify-center"),s(r,"class","w-screen h-screen text-white text-xl select-none text-center")},m(H,V){C(H,e,V),t[2](e),C(H,n,V),C(H,r,V),f(r,l),f(r,i),f(r,u),f(u,a),t[3](a),f(u,o),D[p].m(u,null),f(r,m),f(r,v),f(v,g),ee.m(g,null),f(g,y),f(g,w),f(g,_),f(g,L),f(g,S),f(g,j),M=!0,E||(R=ae(L,"click",t[4]),E=!0)},p(H,[V]){let Q=p;p=te(H),p===Q?D[p].p(H,V):(Ke(),W(D[Q],1,1,()=>{D[Q]=null}),Ye(),d=D[p],d?d.p(H,V):(d=D[p]=z[p](H),d.c()),U(d,1),d.m(u,null))},i(H){M||(H&&we(()=>{M&&(c||(c=_e(a,Ee,{duration:1e4},!0)),c.run(1))}),U(d),M=!0)},o(H){H&&(c||(c=_e(a,Ee,{duration:1e4},!1)),c.run(0)),W(d),M=!1},d(H){H&&(k(e),k(n),k(r)),t[2](null),t[3](null),H&&c&&c.end(),D[p].d(),ee.d(),E=!1,R()}}}let qe,qt;const re=(t,e=!1,n=3,r)=>{const l=qt.cloneNode(!0);l.innerHTML=e?`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[1.2em] animate-spin inline aspect-square mr-1" > <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" /> </svg>${t}`:t,l.style.display="block",qe.appendChild(l),r?r(()=>{qe.removeChild(l)}):setTimeout(()=>{qe.removeChild(l)},n*1e3)};function ir(t,e,n){let r;Ge(t,Ue,c=>n(0,r=c));const l=(c,o)=>{he.getUserInfo(c).then(p=>{if(p.success==!1){re("something went wrong!");return}oe(Ue,r={...r,...p.data},r),oe(Ue,r.loggedIn=!0,r),o&&o()})};function i(c){Ve[c?"unshift":"push"](()=>{qt=c})}function u(c){Ve[c?"unshift":"push"](()=>{qe=c})}return[r,l,i,u,async({target:c})=>{window["cartier-server-url"]="https://cartier-backend.onrender.com",c&&(c.disabled=!0,c.innerText="using render"),re("switching & waking alternate (render)server",!0,5,async o=>{await he.getRoot(),o(),re("(render)server running")})}]}class or extends ye{constructor(e){super(),be(this,e,ir,sr,pe,{})}}new or({target:document.getElementById("app")});
